(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7130],{58855:function(e,t,n){Promise.resolve().then(n.bind(n,22335))},88167:function(e,t,n){"use strict";n.d(t,{z:function(){return x},Z:function(){return u}});var r=n(57437),a=n(2265),l=n(63832),i=n(63582),o=n(85422),s=n(78767),c=n(86281),d=n(27250);let x=(0,a.forwardRef)((e,t)=>{let{colors:n,selected:x,onSelectColor:u,limit:p="auto",sx:h,slotProps:f,...v}=e,g="string"==typeof x,b=(0,a.useCallback)(e=>{g?e!==x&&u(e):u(x.includes(e)?x.filter(t=>t!==e):[...x,e])},[u,x,g]);return(0,r.jsx)(l.Z,{ref:t,component:"ul",sx:{flexWrap:"wrap",flexDirection:"row",display:"inline-flex",..."auto"!==p&&{width:36*p,justifyContent:"flex-end"},...h},...v,children:n.map(e=>{let t=g?x===e:x.includes(e);return(0,r.jsx)(l.Z,{component:"li",sx:{display:"inline-flex"},children:(0,r.jsx)(o.Z,{"aria-label":e,onClick:()=>b(e),sx:{width:36,height:36,borderRadius:"50%",...null==f?void 0:f.button},children:(0,r.jsx)(i.Z,{alignItems:"center",justifyContent:"center",sx:{width:20,height:20,bgcolor:e,borderRadius:"50%",border:e=>"solid 1px ".concat((0,c.jr)(e.vars.palette.grey["500Channel"],.16)),...t&&{transform:"scale(1.3)",boxShadow:"4px 4px 8px 0 ".concat((0,s.Fq)(e,.48)),outline:"solid 2px ".concat((0,s.Fq)(e,.08)),transition:e=>e.transitions.create("all",{duration:e.transitions.duration.shortest})}},children:(0,r.jsx)(d.Ir,{width:t?12:0,icon:"eva:checkmark-fill",sx:{color:t=>t.palette.getContrastText(e),transition:e=>e.transitions.create("all",{duration:e.transitions.duration.shortest})}})})})},e)})})}),u=(0,a.forwardRef)((e,t)=>{let{colors:n,limit:a=3,sx:i,...o}=e,s=n.slice(0,a),d=n.length-a;return(0,r.jsxs)(l.Z,{ref:t,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",...i},...o,children:[s.map((e,t)=>(0,r.jsx)(l.Z,{sx:{ml:-.75,width:16,height:16,bgcolor:e,borderRadius:"50%",border:e=>"solid 2px ".concat(e.vars.palette.background.paper),boxShadow:e=>"inset -1px 1px 2px ".concat((0,c.jr)(e.vars.palette.common.blackChannel,.24))}},e+t)),n.length>a&&(0,r.jsx)(l.Z,{component:"span",sx:{typography:"subtitle2"},children:"+".concat(d)})]})})},71180:function(e,t,n){"use strict";n.d(t,{eE:function(){return l},Ai:function(){return c},sB:function(){return s}});var r=n(57437),a=n(63832);function l(e){let{label:t,children:n,isShow:l,sx:i}=e;return l?(0,r.jsxs)(a.Z,{gap:1,display:"flex",sx:{p:1,borderRadius:1,overflow:"hidden",border:e=>"dashed 1px ".concat(e.vars.palette.divider),...i},children:[(0,r.jsx)(a.Z,{component:"span",sx:{height:24,lineHeight:"24px",fontSize:e=>e.typography.subtitle2.fontSize,fontWeight:e=>e.typography.subtitle2.fontWeight},children:t}),(0,r.jsx)(a.Z,{gap:1,display:"flex",flexWrap:"wrap",children:n})]}):null}var i=n(39155),o=n(27250);let s={size:"small",variant:"soft"};function c(e){let{totalResults:t,onReset:n,sx:l,children:s}=e;return(0,r.jsxs)(a.Z,{sx:l,children:[(0,r.jsxs)(a.Z,{sx:{mb:1.5,typography:"body2"},children:[(0,r.jsx)("strong",{children:t}),(0,r.jsx)(a.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,r.jsxs)(a.Z,{flexGrow:1,gap:1,display:"flex",flexWrap:"wrap",alignItems:"center",children:[s,(0,r.jsx)(i.Z,{color:"error",onClick:n,startIcon:(0,r.jsx)(o.Ir,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}},90434:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(2265),a=n(65570);function l(e){let[t,n]=(0,r.useState)(e),l=!(0,a.Xy)(t,e),i=(0,r.useCallback)(e=>{n(t=>({...t,...e}))},[]),o=(0,r.useCallback)((e,t)=>{i({[e]:t})},[i]),s=(0,r.useCallback)(()=>{n(e)},[e]);return(0,r.useMemo)(()=>({state:t,setState:i,setField:o,onResetState:s,canReset:l}),[l,s,o,i,t])}},47352:function(e,t,n){"use strict";n.d(t,{cv:function(){return r.DashboardContent}});var r=n(40355);n(11211)},22335:function(e,t,n){"use strict";n.r(t),n.d(t,{CalendarView:function(){return ef}});var r=n(57437),a=n(85262),l=n(2265),i=n(76377),o=n(25981),s=n(53802),c=n(90272),d=n(62516),x=n(31762),u=n(63582),p=n(39155),h=n(35791),f=n(31691),v=n(46387),g=n(79507),b=n(23857),m=n(90434),y=n(36469),j=n(47352),C=n(89508),k=n(63861),Z=n(30245);let w=Z.Hv.calendar,D={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};async function S(e){(0,k.JG)(w,t=>{let n=[...null==t?void 0:t.events,e];return{...t,events:n}},!1)}async function R(e){(0,k.JG)(w,t=>{let n=(null==t?void 0:t.events).map(t=>t.id===e.id?{...t,...e}:t);return{...t,events:n}},!1)}async function z(e){(0,k.JG)(w,t=>{let n=(null==t?void 0:t.events).filter(t=>t.id!==e);return{...t,events:n}},!1)}var I=n(27250),E=n(16210),M=n(86281);let P=(0,E.ZP)("div")(e=>{let{theme:t}=e;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-border-color":(0,M.jr)(t.vars.palette.grey["500Channel"],.16),"--fc-now-indicator-color":t.vars.palette.error.main,"--fc-today-bg-color":(0,M.jr)(t.vars.palette.grey["500Channel"],.08),"--fc-page-bg-color":t.vars.palette.background.default,"--fc-neutral-bg-color":t.vars.palette.background.neutral,"--fc-list-event-hover-bg-color":t.vars.palette.action.hover,"--fc-highlight-color":t.vars.palette.action.hover},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.vars.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.vars.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":{...t.typography.subtitle2,padding:"13px 0"}},"& .fc .fc-list-empty":{...t.typography.h6,backgroundColor:"transparent",color:t.vars.palette.text.secondary},"& .fc .fc-event":{borderColor:"transparent !important",backgroundColor:"transparent !important"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:6,backgroundColor:t.vars.palette.common.white,"&::before":{top:0,left:0,width:"100%",content:"''",opacity:.24,height:"100%",borderRadius:6,position:"absolute",backgroundColor:"currentColor",transition:t.transitions.create(["opacity"]),"&:hover":{"&::before":{opacity:.32}}}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.48)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.dropdown,borderRadius:1.5*t.shape.borderRadius,backgroundColor:t.vars.palette.background.paper},"& .fc .fc-popover-header":{...t.typography.subtitle2,padding:t.spacing(1),backgroundColor:(0,M.jr)(t.vars.palette.grey["500Channel"],.08)},"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create(["opacity"]),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.vars.palette.text.disabled}},"& .fc .fc-daygrid-day-number":{...t.typography.body2,padding:t.spacing(1,1,0)},"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":{...t.typography.caption,color:t.vars.palette.text.secondary,"&:hover":{backgroundColor:"unset",textDecoration:"underline",color:t.vars.palette.text.primary,fontWeight:t.typography.fontWeightMedium}},"& .fc .fc-timegrid-axis-cushion":{...t.typography.body2,color:t.vars.palette.text.secondary},"& .fc .fc-timegrid-slot-label-cushion":{...t.typography.body2},"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":{...t.typography.subtitle2},"& .fc .fc-list-event":{...t.typography.body2,"& .fc-list-event-time":{color:t.vars.palette.text.secondary}},"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}});var W=n(71096),F=n.n(W),T=n(31229),A=n(13590),G=n(29501),N=n(63832),O=n(71969),V=n(95576),_=n(6809),B=n(22643),H=n(63593),L=n(43030),q=n(28607),J=n(13611),X=n(88167);let Q=T.z.object({title:T.z.string().min(1,{message:"Title is required!"}).max(100,{message:"Title must be less than 100 characters"}),description:T.z.string().min(1,{message:"Description is required!"}).min(50,{message:"Description must be at least 50 characters"}),color:T.z.string(),allDay:T.z.boolean(),start:T.z.union([T.z.string(),T.z.number()]),end:T.z.union([T.z.string(),T.z.number()])});function U(e){let{currentEvent:t,colorOptions:n,onClose:a}=e,i=(0,G.cI)({mode:"all",resolver:(0,A.F)(Q),defaultValues:t}),{reset:o,watch:s,control:c,handleSubmit:d,formState:{isSubmitting:x}}=i,h=s(),f=(0,y.mP)(h.start,h.end),v=d(async e=>{let n={id:(null==t?void 0:t.id)?null==t?void 0:t.id:(0,H.k)(),color:null==e?void 0:e.color,title:null==e?void 0:e.title,allDay:null==e?void 0:e.allDay,description:null==e?void 0:e.description,end:null==e?void 0:e.end,start:null==e?void 0:e.start};try{f||((null==t?void 0:t.id)?(await R(n),L.Am.success("Update success!")):(await S(n),L.Am.success("Create success!")),a(),o())}catch(e){console.error(e)}}),g=(0,l.useCallback)(async()=>{try{await z("".concat(null==t?void 0:t.id)),L.Am.success("Delete success!"),a()}catch(e){console.error(e)}},[null==t?void 0:t.id,a]);return(0,r.jsxs)(J.l0,{methods:i,onSubmit:v,children:[(0,r.jsx)(q.L,{sx:{p:3,bgcolor:"background.neutral"},children:(0,r.jsxs)(u.Z,{spacing:3,children:[(0,r.jsx)(J.gN.Text,{name:"title",label:"Title"}),(0,r.jsx)(J.gN.Text,{name:"description",label:"Description",multiline:!0,rows:3}),(0,r.jsx)(J.gN.Switch,{name:"allDay",label:"All day"}),(0,r.jsx)(J.gN.MobileDateTimePicker,{name:"start",label:"Start date"}),(0,r.jsx)(J.gN.MobileDateTimePicker,{name:"end",label:"End date",slotProps:{textField:{error:f,helperText:f?"End date must be later than start date":null}}}),(0,r.jsx)(G.Qr,{name:"color",control:c,render:e=>{let{field:t}=e;return(0,r.jsx)(X.z,{selected:t.value,onSelectColor:e=>t.onChange(e),colors:n})}})]})}),(0,r.jsxs)(B.Z,{sx:{flexShrink:0},children:[!!(null==t?void 0:t.id)&&(0,r.jsx)(O.Z,{title:"Delete event",children:(0,r.jsx)(V.Z,{onClick:g,children:(0,r.jsx)(I.Ir,{icon:"solar:trash-bin-trash-bold"})})}),(0,r.jsx)(N.Z,{sx:{flexGrow:1}}),(0,r.jsx)(p.Z,{variant:"outlined",color:"inherit",onClick:a,children:"Cancel"}),(0,r.jsx)(_.Z,{type:"submit",variant:"contained",loading:x,disabled:f,children:"Save changes"})]})]})}var K=n(97605),Y=n(59708),$=n(35108),ee=n(50290),et=n(5186),en=n(92548);let er=[{value:"dayGridMonth",label:"Month",icon:"mingcute:calendar-month-line"},{value:"timeGridWeek",label:"Week",icon:"mingcute:calendar-week-line"},{value:"timeGridDay",label:"Day",icon:"mingcute:calendar-day-line"},{value:"listWeek",label:"Agenda",icon:"fluent:calendar-agenda-24-regular"}];function ea(e){let{date:t,view:n,loading:a,onToday:l,canReset:i,onNextDate:o,onPrevDate:s,onChangeView:c,onOpenFilters:d}=e,x=(0,en.S)(),h=er.filter(e=>e.value===n)[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5,pr:2,position:"relative"},children:[(0,r.jsx)(p.Z,{size:"small",color:"inherit",onClick:x.onOpen,startIcon:(0,r.jsx)(I.Ir,{icon:h.icon}),endIcon:(0,r.jsx)(I.Ir,{icon:"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),sx:{display:{xs:"none",sm:"inline-flex"}},children:h.label}),(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,r.jsx)(V.Z,{onClick:s,children:(0,r.jsx)(I.Ir,{icon:"eva:arrow-ios-back-fill"})}),(0,r.jsx)(v.Z,{variant:"h6",children:t}),(0,r.jsx)(V.Z,{onClick:o,children:(0,r.jsx)(I.Ir,{icon:"eva:arrow-ios-forward-fill"})})]}),(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,r.jsx)(p.Z,{size:"small",color:"error",variant:"contained",onClick:l,children:"Today"}),(0,r.jsx)(V.Z,{onClick:d,children:(0,r.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!i,children:(0,r.jsx)(I.Ir,{icon:"ic:round-filter-list"})})})]}),a&&(0,r.jsx)(et.Z,{color:"inherit",sx:{left:0,width:1,height:2,bottom:0,borderRadius:0,position:"absolute"}})]}),(0,r.jsx)(en.m,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-left"}},children:(0,r.jsx)($.Z,{children:er.map(e=>(0,r.jsxs)(ee.Z,{selected:e.value===n,onClick:()=>{x.onClose(),c(e.value)},children:[(0,r.jsx)(I.Ir,{icon:e.icon}),e.label]},e.value))})})]})}var el=n(3254),ei=n(8350),eo=n(67051),es=n(11741),ec=n(26038),ed=n(65570);function ex(e){let{open:t,events:n,onClose:a,filters:i,canReset:o,dateError:s,colorOptions:c,onClickEvent:d}=e,x=(0,l.useCallback)(e=>{i.setState({colors:e})},[i]),u=(0,l.useCallback)(e=>{i.setState({startDate:e})},[i]),p=(0,l.useCallback)(e=>{i.setState({endDate:e})},[i]),h=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N.Z,{display:"flex",alignItems:"center",sx:{py:2,pr:1,pl:2.5},children:[(0,r.jsx)(v.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,r.jsx)(O.Z,{title:"Reset",children:(0,r.jsx)(V.Z,{onClick:i.onResetState,children:(0,r.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!o,children:(0,r.jsx)(I.Ir,{icon:"solar:restart-bold"})})})}),(0,r.jsx)(V.Z,{onClick:a,children:(0,r.jsx)(I.Ir,{icon:"mingcute:close-line"})})]}),(0,r.jsx)(ei.Z,{sx:{borderStyle:"dashed"}})]}),f=(0,r.jsxs)(N.Z,{display:"flex",flexDirection:"column",sx:{my:3,px:2.5},children:[(0,r.jsx)(v.Z,{variant:"subtitle2",sx:{mb:1},children:"Colors"}),(0,r.jsx)(X.z,{colors:c,selected:i.state.colors,onSelectColor:x})]}),g=(0,r.jsxs)(N.Z,{display:"flex",flexDirection:"column",sx:{mb:3,px:2.5},children:[(0,r.jsx)(v.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Range"}),(0,r.jsx)(ec.M,{label:"Start date",value:i.state.startDate,onChange:u,sx:{mb:2.5}}),(0,r.jsx)(ec.M,{label:"End date",value:i.state.endDate,onChange:p,slotProps:{textField:{error:s,helperText:s?"End date must be later than start date":null}}})]}),b=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.Z,{variant:"subtitle2",sx:{px:2.5,mb:1},children:["Events (",n.length,")"]}),(0,r.jsx)(N.Z,{component:"ul",children:(0,ed.Xo)(n,["end"],["desc"]).map(e=>(0,r.jsx)(N.Z,{component:"li",children:(0,r.jsxs)(es.Z,{onClick:()=>d("".concat(e.id)),sx:{py:1.5,borderBottom:e=>"dashed 1px ".concat(e.vars.palette.divider)},children:[(0,r.jsx)(N.Z,{sx:{top:16,left:0,width:0,height:0,position:"absolute",borderRight:"10px solid transparent",borderTop:"10px solid ".concat(e.color)}}),(0,r.jsx)(eo.Z,{disableTypography:!0,primary:(0,r.jsx)(v.Z,{variant:"subtitle2",sx:{fontSize:13,mt:.5},children:e.title}),secondary:(0,r.jsx)(v.Z,{variant:"caption",component:"div",sx:{fontSize:11,color:"text.disabled"},children:e.allDay?(0,y.Mu)(e.start):"".concat((0,y.zM)(e.start)," - ").concat((0,y.zM)(e.end))}),sx:{display:"flex",flexDirection:"column-reverse"}})]})},e.id))})]});return(0,r.jsxs)(el.ZP,{anchor:"right",open:t,onClose:a,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[h,(0,r.jsxs)(q.L,{children:[f,g,b]})]})}var eu=n(89902),ep=n(71180);function eh(e){let{filters:t,totalResults:n,sx:a}=e,i=(0,l.useCallback)(e=>{let n=t.state.colors.filter(t=>t!==e);t.setState({colors:n})},[t]),o=(0,l.useCallback)(()=>{t.setState({startDate:null,endDate:null})},[t]);return(0,r.jsxs)(ep.Ai,{totalResults:n,onReset:t.onResetState,sx:a,children:[(0,r.jsx)(ep.eE,{label:"Colors:",isShow:!!t.state.colors.length,children:t.state.colors.map(e=>(0,l.createElement)(eu.Z,{...ep.sB,key:e,label:(0,r.jsx)(N.Z,{sx:{ml:-.5,width:18,height:18,bgcolor:e,borderRadius:"50%",border:e=>"solid 1px ".concat((0,M.jr)(e.vars.palette.common.whiteChannel,.24))}}),onDelete:()=>i(e)}))}),(0,r.jsx)(ep.eE,{label:"Date:",isShow:!!(t.state.startDate&&t.state.endDate),children:(0,r.jsx)(eu.Z,{...ep.sB,label:(0,y.RF)(t.state.startDate,t.state.endDate),onDelete:o})})]})}function ef(){let e=(0,f.Z)(),t=(0,b.k)(),{events:n,eventsLoading:S}=function(){let{data:e,isLoading:t,error:n,isValidating:r}=(0,k.ZP)(w,Z._i,D);return(0,l.useMemo)(()=>({events:(null==e?void 0:e.events.map(e=>({...e,textColor:e.color})))||[],eventsLoading:t,eventsError:n,eventsValidating:r,eventsEmpty:!t&&!(null==e?void 0:e.events.length)}),[null==e?void 0:e.events,n,t,r])}(),z=(0,m.v)({colors:[],startDate:null,endDate:null}),E=(0,y.mP)(z.state.startDate,z.state.endDate),{calendarRef:M,view:W,date:T,onDatePrev:A,onDateNext:G,onDateToday:N,onDropEvent:O,onChangeView:V,onSelectRange:_,onClickEvent:B,onResizeEvent:H,onInitialView:L,openForm:q,onOpenForm:J,onCloseForm:X,selectEventId:Q,selectedRange:Y,onClickEventInFilters:$}=function(){let e=(0,l.useRef)(null),t=e.current,n=(0,K.F)("up","sm"),[r,a]=(0,l.useState)(new Date),[i,o]=(0,l.useState)(!1),[s,c]=(0,l.useState)(""),[d,x]=(0,l.useState)(null),[u,p]=(0,l.useState)(n?"dayGridMonth":"listWeek"),h=(0,l.useCallback)(()=>{o(!0)},[]),f=(0,l.useCallback)(()=>{o(!1),x(null),c("")},[]),v=(0,l.useCallback)(()=>{if(t){let e=t.getApi(),r=n?"dayGridMonth":"listWeek";e.changeView(r),p(r)}},[t,n]),g=(0,l.useCallback)(e=>{t&&(t.getApi().changeView(e),p(e))},[t]),b=(0,l.useCallback)(()=>{if(t){let e=t.getApi();e.today(),a(e.getDate())}},[t]),m=(0,l.useCallback)(()=>{if(t){let e=t.getApi();e.prev(),a(e.getDate())}},[t]),y=(0,l.useCallback)(()=>{if(t){let e=t.getApi();e.next(),a(e.getDate())}},[t]),j=(0,l.useCallback)(e=>{t&&t.getApi().unselect(),h(),x({start:e.startStr,end:e.endStr})},[t,h]),C=(0,l.useCallback)(e=>{let{event:t}=e;h(),c(t.id)},[h]),k=(0,l.useCallback)((e,t)=>{let{event:n}=e;t({id:n.id,allDay:n.allDay,start:n.startStr,end:n.endStr})},[]),Z=(0,l.useCallback)((e,t)=>{let{event:n}=e;t({id:n.id,allDay:n.allDay,start:n.startStr,end:n.endStr})},[]),w=(0,l.useCallback)(e=>{e&&(h(),c(e))},[h]);return{calendarRef:e,view:u,date:r,onDatePrev:m,onDateNext:y,onDateToday:b,onDropEvent:Z,onClickEvent:C,onChangeView:g,onSelectRange:j,onResizeEvent:k,onInitialView:v,openForm:i,onOpenForm:h,onCloseForm:f,selectEventId:s,selectedRange:d,onClickEventInFilters:w}}(),ee=function(e,t,n,r){let a=e.find(e=>e.id===t),i=(0,l.useMemo)(()=>({id:"",title:"",description:"",color:C.g[1],allDay:!1,start:n?n.start:F()(new Date).format(),end:n?n.end:F()(new Date).format()}),[n]);return r?a||n?{...i,...a}:i:void 0}(n,Q,Y,q);(0,l.useEffect)(()=>{L()},[L]);let et=z.state.colors.length>0||!!z.state.startDate&&!!z.state.endDate,en=function(e){let{inputData:t,filters:n,dateError:r}=e,{colors:a,startDate:l,endDate:i}=n;return t=t.map((e,t)=>[e,t]).map(e=>e[0]),a.length&&(t=t.filter(e=>a.includes(e.color))),!r&&l&&i&&(t=t.filter(e=>(0,y.WN)(e.start,l,i))),t}({inputData:n,filters:z.state,dateError:E}),er=(0,r.jsx)(eh,{filters:z,totalResults:en.length,sx:{mb:{xs:3,md:5}}}),el={flex:"1 1 auto",display:"flex",flexDirection:"column"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.cv,{maxWidth:"xl",sx:{...el},children:[(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:{xs:3,md:5}},children:[(0,r.jsx)(v.Z,{variant:"h4",children:"Calendar"}),(0,r.jsx)(p.Z,{variant:"contained",startIcon:(0,r.jsx)(I.Ir,{icon:"mingcute:add-line"}),onClick:J,children:"New event"})]}),et&&er,(0,r.jsx)(x.Z,{sx:{...el,minHeight:"50vh"},children:(0,r.jsxs)(P,{sx:{...el,".fc.fc-media-screen":{flex:"1 1 auto"}},children:[(0,r.jsx)(ea,{date:(0,y.Mu)(T),view:W,canReset:et,loading:S,onNextDate:G,onPrevDate:A,onToday:N,onChangeView:V,onOpenFilters:t.onTrue}),(0,r.jsx)(a.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,rerenderDelay:10,allDayMaintainDuration:!0,eventResizableFromStart:!0,ref:M,initialDate:T,initialView:W,dayMaxEventRows:3,eventDisplay:"block",events:en,headerToolbar:!1,select:_,eventClick:B,aspectRatio:3,eventDrop:e=>{O(e,R)},eventResize:e=>{H(e,R)},plugins:[i.Z,o.Z,c.Z,s.Z,d.ZP]})]})})]}),(0,r.jsxs)(h.Z,{fullWidth:!0,maxWidth:"xs",open:q,onClose:X,transitionDuration:{enter:e.transitions.duration.shortest,exit:e.transitions.duration.shortest-80},PaperProps:{sx:{display:"flex",overflow:"hidden",flexDirection:"column","& form":{minHeight:0,display:"flex",flex:"1 1 auto",flexDirection:"column"}}},children:[(0,r.jsx)(g.Z,{sx:{minHeight:76},children:q&&(0,r.jsxs)(r.Fragment,{children:[" ",(null==ee?void 0:ee.id)?"Edit":"Add"," event"]})}),(0,r.jsx)(U,{currentEvent:ee,colorOptions:C.g,onClose:X})]}),(0,r.jsx)(ex,{events:n,filters:z,canReset:et,dateError:E,open:t.value,onClose:t.onFalse,onClickEvent:$,colorOptions:C.g})]})}},63593:function(e,t,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}n.d(t,{k:function(){return r}})}},function(e){e.O(0,[1771,3572,7902,4358,8691,8554,8331,9271,7648,1021,8489,4591,334,1725,1969,7e3,4412,6112,8398,9708,3588,5147,7618,3155,9621,3833,2175,2800,5318,8770,2171,3464,9867,7320,6038,7685,2192,9976,8548,4828,7804,5365,6676,3777,9881,5074,3538,3861,2390,6281,2407,8429,8295,1315,9117,1551,3611,8192,1211,2971,2117,1744],function(){return e(e.s=58855)}),_N_E=e.O()}]);