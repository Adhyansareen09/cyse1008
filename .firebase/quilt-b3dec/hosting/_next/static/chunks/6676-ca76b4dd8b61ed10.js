"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6676],{29515:function(e,t,n){n.d(t,{f:function(){return d}});var o=n(5853),i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=function(){function e(){this.state=Int32Array.from(r),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var o=this.bufferLength;o<64;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<56;o++)t.setUint8(o,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(32),o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=t[5],u=t[6],d=t[7],l=0;l<64;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var p=this.temp[l-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,E=((p=this.temp[l-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[l]=(h+this.temp[l-7]|0)+(E+this.temp[l-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&u)|0)+(d+(i[l]+this.temp[l]|0)|0)|0,f=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&r^o&r)|0;d=u,u=c,c=a,a=s+g|0,s=r,r=o,o=n,n=g+f|0}t[0]+=n,t[1]+=o,t[2]+=r,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=u,t[7]+=d},e}(),a=n(82957).lW,c=void 0!==a&&a.from?function(e){return a.from(e,"utf8")}:e=>new TextEncoder().encode(e);function u(e){return e instanceof Uint8Array?e:"string"==typeof e?c(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var d=function(){function e(e){this.secret=e,this.hash=new s,this.reset()}return e.prototype.update=function(e){if(("string"==typeof e?0!==e.length:0!==e.byteLength)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,o.mG)(this,void 0,void 0,function(){return(0,o.Jh)(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new s,this.secret){this.outer=new s;var e=function(e){var t=u(e);if(t.byteLength>64){var n=new s;n.update(t),t=n.digest()}var o=new Uint8Array(64);return o.set(t),o}(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}()},73663:function(e,t,n){let o={},i={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),o[e]=t,i[t]=e}},60117:function(e,t,n){n.d(t,{By:function(){return c},kq:function(){return s}});var o,i,r,s,a=n(39811);let c={[a.X.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[a.X.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[a.X.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[a.X.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[a.X.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[a.X.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[a.X.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[a.X.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[a.X.EmptySignInPassword]:{message:"password is required to signIn"},[a.X.EmptySignInUsername]:{message:"username is required to signIn"},[a.X.EmptySignUpPassword]:{message:"password is required to signUp"},[a.X.EmptySignUpUsername]:{message:"username is required to signUp"},[a.X.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[a.X.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS or TOTP",recoverySuggestion:"Try to pass TOTP or SMS as the challengeResponse"},[a.X.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[a.X.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[a.X.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};(o=r||(r={})).DEFAULT_MSG="Authentication Error",o.EMPTY_EMAIL="Email cannot be empty",o.EMPTY_PHONE="Phone number cannot be empty",o.EMPTY_USERNAME="Username cannot be empty",o.INVALID_USERNAME="The username should either be a string or one of the sign in types",o.EMPTY_PASSWORD="Password cannot be empty",o.EMPTY_CODE="Confirmation code cannot be empty",o.SIGN_UP_ERROR="Error creating account",o.NO_MFA="No valid MFA method provided",o.INVALID_MFA="Invalid MFA type",o.EMPTY_CHALLENGE="Challenge response cannot be empty",o.NO_USER_SESSION="Failed to get the session because the user is empty",o.NETWORK_ERROR="Network Error",o.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",o.AUTOSIGNIN_ERROR="Please use your credentials to sign in",o.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",(i=s||(s={})).SignInException="SignInException",i.OAuthSignInError="OAuthSignInException"},57826:function(e,t,n){n.d(t,{l:function(){return i}});var o=n(75638);class i extends o._{constructor(e){super(e),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},99075:function(e,t,n){n.d(t,{EU:function(){return r},Jg:function(){return i},MA:function(){return a},VL:function(){return d},hj:function(){return p},mP:function(){return s},sX:function(){return h},vC:function(){return c},wW:function(){return l},x9:function(){return u}});var o=n(57826);let i="UserUnAuthenticatedException",r="UserAlreadyAuthenticatedException",s="DeviceMetadataNotFoundException",a="AutoSignInException",c=new o.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new o.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let u=new o.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),d=new o.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),l="OAuthSignOutException",p="TokenRefreshException",h="UnexpectedSignInInterruptionException"},39811:function(e,t,n){var o,i;n.d(t,{X:function(){return o}}),(i=o||(o={})).EmptySignInUsername="EmptySignInUsername",i.EmptySignInPassword="EmptySignInPassword",i.CustomAuthSignInPassword="CustomAuthSignInPassword",i.EmptySignUpUsername="EmptySignUpUsername",i.EmptySignUpPassword="EmptySignUpPassword",i.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",i.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",i.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",i.EmptyChallengeResponse="EmptyChallengeResponse",i.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",i.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",i.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",i.EmptyResetPasswordUsername="EmptyResetPasswordUsername",i.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",i.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",i.IncorrectMFAMethod="IncorrectMFAMethod",i.EmptyUpdatePassword="EmptyUpdatePassword"},45473:function(e,t,n){n.d(t,{R:function(){return r}});var o=n(37701),i=n(57826);function r(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new i.l({name:o.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},32002:function(e,t,n){n.d(t,{n:function(){return r}});var o=n(60117),i=n(57826);function r(e,t){let{message:n,recoverySuggestion:r}=o.By[t];if(!e)throw new i.l({name:t,message:n,recoverySuggestion:r})}},58249:function(e,t,n){n.d(t,{t:function(){return o}});let o="cognito-idp"},36168:function(e,t,n){n.d(t,{n:function(){return a}});var o=n(12221),i=n(48880),r=n(37487),s=n(52954);let a={service:n(58249).t,retryDecider:(0,o.j)(i.f),computeDelay:r.k,userAgentValue:(0,s.Zm)(),cache:"no-store"}},66388:function(e,t,n){n.d(t,{N:function(){return c}});var o=n(91742),i=n(5048),r=n(7107),s=n(83468),a=n(36168);let c=e=>(0,o.z)(s.x,(0,i.u)("InitiateAuth"),(0,r.o)(),{...a.n,...e})},83468:function(e,t,n){n.d(t,{x:function(){return r}});var o=n(48146),i=n(96526);let r=(0,o.V)(i.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}])},7107:function(e,t,n){n.d(t,{o:function(){return s}});var o=n(48880),i=n(45473),r=n(57826);let s=()=>async e=>{if(e.statusCode>=300){let t=await (0,o.f)(e);throw(0,i.R)(t),new r.l({name:t.name,message:t.message})}return(0,o.e)(e)}},5048:function(e,t,n){n.d(t,{u:function(){return o}});let o=e=>(t,n)=>r(n,i(e),JSON.stringify(t)),i=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),r=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"})},99388:function(e,t,n){n.d(t,{N:function(){return r},y:function(){return i}});var o=n(57826);function i(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new o.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function r(e){if(!e||!e.includes(":"))throw new o.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},57386:function(e,t,n){function o(e){}function i(){}n.d(t,{Dv:function(){return i},I:function(){return o}}),n(57826),n(99075)},5660:function(e,t,n){n.d(t,{f:function(){return x}});var o=n(39271),i=n(87433),r=n(85230),s=n(39811),a=n(32002),c=n(83977),u=n(6801),d=n(91742),l=n(83468),p=n(5048),h=n(7107),E=n(36168);let g=e=>(0,d.z)(l.x,(0,p.u)("ConfirmForgotPassword"),(0,h.o)(),{...E.n,...e});var f=n(31901),m=n(99388);async function x(e){let t=o.d.getConfig().Auth?.Cognito;(0,i.FG)(t);let{userPoolClientId:n,userPoolId:d,userPoolEndpoint:l}=t,{username:p,newPassword:h}=e;(0,a.n)(!!p,s.X.EmptyConfirmResetPasswordUsername),(0,a.n)(!!h,s.X.EmptyConfirmResetPasswordNewPassword);let E=e.confirmationCode;(0,a.n)(!!E,s.X.EmptyConfirmResetPasswordConfirmationCode);let x=e.options?.clientMetadata,y=(0,u.u)({username:p,userPoolId:d,userPoolClientId:n}),S=g({endpointResolver:(0,f.e)({endpointOverride:l})});await S({region:(0,m.y)(t.userPoolId),userAgentValue:(0,c.W)(r.g4.ConfirmResetPassword)},{Username:p,ConfirmationCode:E,Password:h,ClientMetadata:x,ClientId:t.userPoolClientId,UserContextData:y})}},58751:function(e,t,n){n.d(t,{_:function(){return S}});var o=n(39271),i=n(87433),r=n(85230),s=n(85871),a=n(32002),c=n(39811),u=n(99388),d=n(51775),l=n(83977),p=n(6801),h=n(91742),E=n(36168),g=n(83468),f=n(5048),m=n(7107);let x=e=>(0,h.z)(g.x,(0,f.u)("ConfirmSignUp"),(0,m.o)(),{...E.n,...e});var y=n(31901);async function S(e){let{username:t,confirmationCode:n,options:h}=e,E=o.d.getConfig().Auth?.Cognito;(0,i.FG)(E);let{userPoolId:g,userPoolClientId:f,userPoolEndpoint:m}=E,S=h?.clientMetadata;(0,a.n)(!!t,c.X.EmptyConfirmSignUpUsername),(0,a.n)(!!n,c.X.EmptyConfirmSignUpCode);let I=(0,p.u)({username:t,userPoolId:g,userPoolClientId:f}),w=x({endpointResolver:(0,y.e)({endpointOverride:m})});return await w({region:(0,u.y)(E.userPoolId),userAgentValue:(0,l.W)(r.g4.ConfirmSignUp)},{Username:t,ConfirmationCode:n,ClientMetadata:S,ForceAliasCreation:h?.forceAliasCreation,ClientId:E.userPoolClientId,UserContextData:I}),new Promise((e,n)=>{try{let n={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}};if(!(0,d.Fb)()||!(0,d.mr)(t)){e(n);return}let o=s.qC.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),(0,d.pb)(!1),o())});s.qC.dispatch("auth-internal",{event:"confirmSignUp",data:n})}catch(e){n(e)}})}},35017:function(e,t,n){n.d(t,{T:function(){return x}});var o=n(39271),i=n(87433),r=n(85230),s=n(32002),a=n(39811),c=n(99388),u=n(83977),d=n(6801),l=n(91742),p=n(83468),h=n(5048),E=n(7107),g=n(36168);let f=e=>(0,l.z)(p.x,(0,h.u)("ResendConfirmationCode"),(0,E.o)(),{...g.n,...e});var m=n(31901);async function x(e){let{username:t}=e;(0,s.n)(!!t,a.X.EmptySignUpUsername);let n=o.d.getConfig().Auth?.Cognito;(0,i.FG)(n);let{userPoolClientId:l,userPoolId:p,userPoolEndpoint:h}=n,E=e.options?.clientMetadata,g=(0,d.u)({username:t,userPoolId:p,userPoolClientId:l}),x=f({endpointResolver:(0,m.e)({endpointOverride:h})}),{CodeDeliveryDetails:y}=await x({region:(0,c.y)(n.userPoolId),userAgentValue:(0,u.W)(r.g4.ResendSignUpCode)},{Username:t,ClientMetadata:E,ClientId:n.userPoolClientId,UserContextData:g}),{DeliveryMedium:S,AttributeName:I,Destination:w}={...y};return{destination:w,deliveryMedium:S,attributeName:I||void 0}}},27215:function(e,t,n){n.d(t,{c:function(){return x}});var o=n(39271),i=n(87433),r=n(85230),s=n(39811),a=n(32002),c=n(99388),u=n(83977),d=n(6801),l=n(91742),p=n(83468),h=n(5048),E=n(7107),g=n(36168);let f=e=>(0,l.z)(p.x,(0,h.u)("ForgotPassword"),(0,E.o)(),{...g.n,...e});var m=n(31901);async function x(e){let{username:t}=e;(0,a.n)(!!t,s.X.EmptyResetPasswordUsername);let n=o.d.getConfig().Auth?.Cognito;(0,i.FG)(n);let{userPoolClientId:l,userPoolId:p,userPoolEndpoint:h}=n,E=e.options?.clientMetadata,g=(0,d.u)({username:t,userPoolId:p,userPoolClientId:l}),x=f({endpointResolver:(0,m.e)({endpointOverride:h})}),y=(await x({region:(0,c.y)(p),userAgentValue:(0,u.W)(r.g4.ResetPassword)},{Username:t,ClientMetadata:E,ClientId:l,UserContextData:g})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:y?.DeliveryMedium,destination:y?.Destination,attributeName:y?.AttributeName}}}}},47054:function(e,t,n){let o,i,r,s;n.d(t,{z:function(){return tF}});var a,c,u,d,l,p,h,E,g,f,m,x,y,S,I,w,v,C,A,R,P,T,N,U,b,F,M,_,D,O,k,L,V,q,B,K,G,W,$,z,H,X,j,Q,J,Y,Z,ee,et,en=n(39271),eo=n(85230),ei=n(87433),er=n(69514),es=n(72237);let ea={convert(e,t={urlSafe:!1,skipPadding:!1}){let n="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),o=(0,es.Ds)()(n);return t.urlSafe&&(o=o.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(o=o.replace(/=/g,"")),o}},ec=async()=>{let{userAgentData:e}=navigator;if(!e)return navigator.userAgent;let{platform:t="",platformVersion:n="",model:o="",architecture:i="",fullVersionList:r=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]);return[t,n,i,o,t,r.map(e=>`${e.brand}/${e.version}`).join(";")].filter(e=>e).join(" ")};var eu=n(57826);(a=F||(F={})).ConcurrentModificationException="ConcurrentModificationException",a.ForbiddenException="ForbiddenException",a.InternalErrorException="InternalErrorException",a.InvalidParameterException="InvalidParameterException",a.NotAuthorizedException="NotAuthorizedException",a.ResourceNotFoundException="ResourceNotFoundException",a.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",(c=M||(M={})).ForbiddenException="ForbiddenException",c.InternalErrorException="InternalErrorException",c.InvalidParameterException="InvalidParameterException",c.InvalidPasswordException="InvalidPasswordException",c.LimitExceededException="LimitExceededException",c.NotAuthorizedException="NotAuthorizedException",c.PasswordResetRequiredException="PasswordResetRequiredException",c.ResourceNotFoundException="ResourceNotFoundException",c.TooManyRequestsException="TooManyRequestsException",c.UserNotConfirmedException="UserNotConfirmedException",c.UserNotFoundException="UserNotFoundException",(u=_||(_={})).ForbiddenException="ForbiddenException",u.InternalErrorException="InternalErrorException",u.InvalidLambdaResponseException="InvalidLambdaResponseException",u.InvalidParameterException="InvalidParameterException",u.InvalidPasswordException="InvalidPasswordException",u.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",u.NotAuthorizedException="NotAuthorizedException",u.PasswordResetRequiredException="PasswordResetRequiredException",u.ResourceNotFoundException="ResourceNotFoundException",u.TooManyRequestsException="TooManyRequestsException",u.UsernameExistsException="UsernameExistsException",u.UserNotConfirmedException="UserNotConfirmedException",u.UserNotFoundException="UserNotFoundException",(d=D||(D={})).CodeMismatchException="CodeMismatchException",d.ExpiredCodeException="ExpiredCodeException",d.ForbiddenException="ForbiddenException",d.InternalErrorException="InternalErrorException",d.InvalidLambdaResponseException="InvalidLambdaResponseException",d.InvalidParameterException="InvalidParameterException",d.InvalidPasswordException="InvalidPasswordException",d.LimitExceededException="LimitExceededException",d.NotAuthorizedException="NotAuthorizedException",d.ResourceNotFoundException="ResourceNotFoundException",d.TooManyFailedAttemptsException="TooManyFailedAttemptsException",d.TooManyRequestsException="TooManyRequestsException",d.UnexpectedLambdaException="UnexpectedLambdaException",d.UserLambdaValidationException="UserLambdaValidationException",d.UserNotConfirmedException="UserNotConfirmedException",d.UserNotFoundException="UserNotFoundException",(l=O||(O={})).AliasExistsException="AliasExistsException",l.CodeMismatchException="CodeMismatchException",l.ExpiredCodeException="ExpiredCodeException",l.ForbiddenException="ForbiddenException",l.InternalErrorException="InternalErrorException",l.InvalidLambdaResponseException="InvalidLambdaResponseException",l.InvalidParameterException="InvalidParameterException",l.LimitExceededException="LimitExceededException",l.NotAuthorizedException="NotAuthorizedException",l.ResourceNotFoundException="ResourceNotFoundException",l.TooManyFailedAttemptsException="TooManyFailedAttemptsException",l.TooManyRequestsException="TooManyRequestsException",l.UnexpectedLambdaException="UnexpectedLambdaException",l.UserLambdaValidationException="UserLambdaValidationException",l.UserNotFoundException="UserNotFoundException",(p=k||(k={})).ForbiddenException="ForbiddenException",p.InternalErrorException="InternalErrorException",p.InvalidParameterException="InvalidParameterException",p.NotAuthorizedException="NotAuthorizedException",p.PasswordResetRequiredException="PasswordResetRequiredException",p.ResourceNotFoundException="ResourceNotFoundException",p.TooManyRequestsException="TooManyRequestsException",p.UserNotConfirmedException="UserNotConfirmedException",p.UserNotFoundException="UserNotFoundException",(h=L||(L={})).ForbiddenException="ForbiddenException",h.InternalErrorException="InternalErrorException",h.InvalidParameterException="InvalidParameterException",h.NotAuthorizedException="NotAuthorizedException",h.PasswordResetRequiredException="PasswordResetRequiredException",h.ResourceNotFoundException="ResourceNotFoundException",h.TooManyRequestsException="TooManyRequestsException",h.UserNotConfirmedException="UserNotConfirmedException",h.UserNotFoundException="UserNotFoundException",(E=V||(V={})).ForbiddenException="ForbiddenException",E.InternalErrorException="InternalErrorException",E.InvalidParameterException="InvalidParameterException",E.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",E.NotAuthorizedException="NotAuthorizedException",E.PasswordResetRequiredException="PasswordResetRequiredException",E.ResourceNotFoundException="ResourceNotFoundException",E.TooManyRequestsException="TooManyRequestsException",E.UserNotConfirmedException="UserNotConfirmedException",E.UserNotFoundException="UserNotFoundException",(g=q||(q={})).CodeDeliveryFailureException="CodeDeliveryFailureException",g.ForbiddenException="ForbiddenException",g.InternalErrorException="InternalErrorException",g.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",g.InvalidLambdaResponseException="InvalidLambdaResponseException",g.InvalidParameterException="InvalidParameterException",g.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",g.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",g.LimitExceededException="LimitExceededException",g.NotAuthorizedException="NotAuthorizedException",g.ResourceNotFoundException="ResourceNotFoundException",g.TooManyRequestsException="TooManyRequestsException",g.UnexpectedLambdaException="UnexpectedLambdaException",g.UserLambdaValidationException="UserLambdaValidationException",g.UserNotFoundException="UserNotFoundException",(f=B||(B={})).ForbiddenException="ForbiddenException",f.InternalErrorException="InternalErrorException",f.InvalidParameterException="InvalidParameterException",f.NotAuthorizedException="NotAuthorizedException",f.PasswordResetRequiredException="PasswordResetRequiredException",f.ResourceNotFoundException="ResourceNotFoundException",f.TooManyRequestsException="TooManyRequestsException",f.UserNotConfirmedException="UserNotConfirmedException",f.UserNotFoundException="UserNotFoundException",(m=K||(K={})).ExternalServiceException="ExternalServiceException",m.InternalErrorException="InternalErrorException",m.InvalidParameterException="InvalidParameterException",m.LimitExceededException="LimitExceededException",m.NotAuthorizedException="NotAuthorizedException",m.ResourceConflictException="ResourceConflictException",m.ResourceNotFoundException="ResourceNotFoundException",m.TooManyRequestsException="TooManyRequestsException",(x=G||(G={})).ExternalServiceException="ExternalServiceException",x.InternalErrorException="InternalErrorException",x.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",x.InvalidParameterException="InvalidParameterException",x.NotAuthorizedException="NotAuthorizedException",x.ResourceConflictException="ResourceConflictException",x.ResourceNotFoundException="ResourceNotFoundException",x.TooManyRequestsException="TooManyRequestsException",(y=W||(W={})).CodeDeliveryFailureException="CodeDeliveryFailureException",y.ForbiddenException="ForbiddenException",y.InternalErrorException="InternalErrorException",y.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",y.InvalidLambdaResponseException="InvalidLambdaResponseException",y.InvalidParameterException="InvalidParameterException",y.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",y.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",y.LimitExceededException="LimitExceededException",y.NotAuthorizedException="NotAuthorizedException",y.PasswordResetRequiredException="PasswordResetRequiredException",y.ResourceNotFoundException="ResourceNotFoundException",y.TooManyRequestsException="TooManyRequestsException",y.UnexpectedLambdaException="UnexpectedLambdaException",y.UserLambdaValidationException="UserLambdaValidationException",y.UserNotConfirmedException="UserNotConfirmedException",y.UserNotFoundException="UserNotFoundException",(S=$||($={})).ForbiddenException="ForbiddenException",S.InternalErrorException="InternalErrorException",S.InvalidParameterException="InvalidParameterException",S.NotAuthorizedException="NotAuthorizedException",S.PasswordResetRequiredException="PasswordResetRequiredException",S.ResourceNotFoundException="ResourceNotFoundException",S.TooManyRequestsException="TooManyRequestsException",S.UserNotConfirmedException="UserNotConfirmedException",(I=z||(z={})).PasswordResetRequiredException="PasswordResetRequiredException",I.ForbiddenException="ForbiddenException",I.InternalErrorException="InternalErrorException",I.InvalidLambdaResponseException="InvalidLambdaResponseException",I.InvalidParameterException="InvalidParameterException",I.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",I.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",I.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",I.NotAuthorizedException="NotAuthorizedException",I.ResourceNotFoundException="ResourceNotFoundException",I.TooManyRequestsException="TooManyRequestsException",I.UnexpectedLambdaException="UnexpectedLambdaException",I.UserLambdaValidationException="UserLambdaValidationException",I.UserNotConfirmedException="UserNotConfirmedException",I.UserNotFoundException="UserNotFoundException",(w=H||(H={})).CodeDeliveryFailureException="CodeDeliveryFailureException",w.ForbiddenException="ForbiddenException",w.InternalErrorException="InternalErrorException",w.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",w.InvalidLambdaResponseException="InvalidLambdaResponseException",w.InvalidParameterException="InvalidParameterException",w.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",w.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",w.LimitExceededException="LimitExceededException",w.NotAuthorizedException="NotAuthorizedException",w.ResourceNotFoundException="ResourceNotFoundException",w.TooManyRequestsException="TooManyRequestsException",w.UnexpectedLambdaException="UnexpectedLambdaException",w.UserLambdaValidationException="UserLambdaValidationException",w.UserNotFoundException="UserNotFoundException",(v=X||(X={})).AliasExistsException="AliasExistsException",v.CodeMismatchException="CodeMismatchException",v.ExpiredCodeException="ExpiredCodeException",v.ForbiddenException="ForbiddenException",v.InternalErrorException="InternalErrorException",v.InvalidLambdaResponseException="InvalidLambdaResponseException",v.InvalidParameterException="InvalidParameterException",v.InvalidPasswordException="InvalidPasswordException",v.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",v.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",v.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",v.MFAMethodNotFoundException="MFAMethodNotFoundException",v.NotAuthorizedException="NotAuthorizedException",v.PasswordResetRequiredException="PasswordResetRequiredException",v.ResourceNotFoundException="ResourceNotFoundException",v.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",v.TooManyRequestsException="TooManyRequestsException",v.UnexpectedLambdaException="UnexpectedLambdaException",v.UserLambdaValidationException="UserLambdaValidationException",v.UserNotConfirmedException="UserNotConfirmedException",v.UserNotFoundException="UserNotFoundException",(C=j||(j={})).ForbiddenException="ForbiddenException",C.InternalErrorException="InternalErrorException",C.InvalidParameterException="InvalidParameterException",C.NotAuthorizedException="NotAuthorizedException",C.PasswordResetRequiredException="PasswordResetRequiredException",C.ResourceNotFoundException="ResourceNotFoundException",C.UserNotConfirmedException="UserNotConfirmedException",C.UserNotFoundException="UserNotFoundException",(A=Q||(Q={})).CodeDeliveryFailureException="CodeDeliveryFailureException",A.InternalErrorException="InternalErrorException",A.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",A.InvalidLambdaResponseException="InvalidLambdaResponseException",A.InvalidParameterException="InvalidParameterException",A.InvalidPasswordException="InvalidPasswordException",A.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",A.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",A.NotAuthorizedException="NotAuthorizedException",A.ResourceNotFoundException="ResourceNotFoundException",A.TooManyRequestsException="TooManyRequestsException",A.UnexpectedLambdaException="UnexpectedLambdaException",A.UserLambdaValidationException="UserLambdaValidationException",A.UsernameExistsException="UsernameExistsException",(R=J||(J={})).AliasExistsException="AliasExistsException",R.CodeDeliveryFailureException="CodeDeliveryFailureException",R.CodeMismatchException="CodeMismatchException",R.ExpiredCodeException="ExpiredCodeException",R.ForbiddenException="ForbiddenException",R.InternalErrorException="InternalErrorException",R.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",R.InvalidLambdaResponseException="InvalidLambdaResponseException",R.InvalidParameterException="InvalidParameterException",R.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",R.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",R.NotAuthorizedException="NotAuthorizedException",R.PasswordResetRequiredException="PasswordResetRequiredException",R.ResourceNotFoundException="ResourceNotFoundException",R.TooManyRequestsException="TooManyRequestsException",R.UnexpectedLambdaException="UnexpectedLambdaException",R.UserLambdaValidationException="UserLambdaValidationException",R.UserNotConfirmedException="UserNotConfirmedException",R.UserNotFoundException="UserNotFoundException",(P=Y||(Y={})).CodeMismatchException="CodeMismatchException",P.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",P.ForbiddenException="ForbiddenException",P.InternalErrorException="InternalErrorException",P.InvalidParameterException="InvalidParameterException",P.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",P.NotAuthorizedException="NotAuthorizedException",P.PasswordResetRequiredException="PasswordResetRequiredException",P.ResourceNotFoundException="ResourceNotFoundException",P.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",P.TooManyRequestsException="TooManyRequestsException",P.UserNotConfirmedException="UserNotConfirmedException",P.UserNotFoundException="UserNotFoundException",(T=Z||(Z={})).AliasExistsException="AliasExistsException",T.CodeMismatchException="CodeMismatchException",T.ExpiredCodeException="ExpiredCodeException",T.ForbiddenException="ForbiddenException",T.InternalErrorException="InternalErrorException",T.InvalidParameterException="InvalidParameterException",T.LimitExceededException="LimitExceededException",T.NotAuthorizedException="NotAuthorizedException",T.PasswordResetRequiredException="PasswordResetRequiredException",T.ResourceNotFoundException="ResourceNotFoundException",T.TooManyRequestsException="TooManyRequestsException",T.UserNotConfirmedException="UserNotConfirmedException",T.UserNotFoundException="UserNotFoundException",(N=ee||(ee={})).ForbiddenException="ForbiddenException",N.InternalErrorException="InternalErrorException",N.InvalidParameterException="InvalidParameterException",N.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",N.NotAuthorizedException="NotAuthorizedException",N.PasswordResetRequiredException="PasswordResetRequiredException",N.ResourceNotFoundException="ResourceNotFoundException",N.TooManyRequestsException="TooManyRequestsException",N.UserNotConfirmedException="UserNotConfirmedException",N.UserNotFoundException="UserNotFoundException",(U=et||(et={})).ForbiddenException="ForbiddenException",U.InternalErrorException="InternalErrorException",U.InvalidParameterException="InvalidParameterException",U.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",U.NotAuthorizedException="NotAuthorizedException",U.PasswordResetRequiredException="PasswordResetRequiredException",U.ResourceNotFoundException="ResourceNotFoundException",U.TooManyRequestsException="TooManyRequestsException",U.UserNotConfirmedException="UserNotConfirmedException",U.UserNotFoundException="UserNotFoundException";var ed=n(60117),el=n(99075),ep=n(34168);let eh=async e=>{let t=e.getConfig().Auth?.Cognito;(0,ei.FG)(t);let n=await e.Auth.getTokens({forceRefresh:!1});(0,ep.CA)(n);let{"cognito:username":o,sub:i}=n.idToken?.payload??{},r={username:o,userId:i},s=n?.signInDetails;return s&&(r.signInDetails=s),r},eE=async()=>eh(en.d);var eg=n(83977),ef=n(66388),em=n(91742),ex=n(83468),ey=n(5048),eS=n(7107),eI=n(36168);let ew=e=>(0,em.z)(ex.x,(0,ey.u)("RespondToAuthChallenge"),(0,eS.o)(),{...eI.n,...e}),ev=e=>(0,em.z)(ex.x,(0,ey.u)("AssociateSoftwareToken"),(0,eS.o)(),{...eI.n,...e}),eC=e=>(0,em.z)(ex.x,(0,ey.u)("ConfirmDevice"),(0,eS.o)(),{...eI.n,...e});var eA=n(31901),eR=n(99388);function eP(){return{username:void 0,challengeName:void 0,signInSession:void 0}}let eT=(s=(b=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return{...t.value};case"SET_CHALLENGE_NAME":return{...e,challengeName:t.value};case"SET_USERNAME":return{...e,username:t.value};case"SET_INITIAL_STATE":return eP();default:return e}})(eP(),{type:"SET_INITIAL_STATE"}),{getState:()=>s,dispatch:e=>{s=b(s,e)}});function eN(e){eT.dispatch({type:"SET_SIGN_IN_STATE",value:e})}function eU(){eT.dispatch({type:"SET_INITIAL_STATE"})}let eb={convert:e=>new TextEncoder().encode(e)};function eF(e,t){null!=e&&this.fromString(e,t)}function eM(){return new eF(null,null)}let e_="undefined"!=typeof navigator;e_&&"Microsoft Internet Explorer"===navigator.appName?(eF.prototype.am=function(e,t,n,o,i,r){let s=32767&t,a=t>>15;for(;--r>=0;){let t=32767&this[e],r=this[e++]>>15,c=a*t+r*s;i=((t=s*t+((32767&c)<<15)+n[o]+(1073741823&i))>>>30)+(c>>>15)+a*r+(i>>>30),n[o++]=1073741823&t}return i},o=30):e_&&"Netscape"!==navigator.appName?(eF.prototype.am=function(e,t,n,o,i,r){for(;--r>=0;){let r=t*this[e++]+n[o]+i;i=Math.floor(r/67108864),n[o++]=67108863&r}return i},o=26):(eF.prototype.am=function(e,t,n,o,i,r){let s=16383&t,a=t>>14;for(;--r>=0;){let t=16383&this[e],r=this[e++]>>14,c=a*t+r*s;i=((t=s*t+((16383&c)<<14)+n[o]+i)>>28)+(c>>14)+a*r,n[o++]=268435455&t}return i},o=28),eF.prototype.DB=o,eF.prototype.DM=(1<<o)-1,eF.prototype.DV=1<<o,eF.prototype.FV=4503599627370496,eF.prototype.F1=52-o,eF.prototype.F2=2*o-52;let eD=[];for(r=0,i=48;r<=9;++r)eD[i++]=r;for(r=10,i=97;r<36;++r)eD[i++]=r;for(r=10,i=65;r<36;++r)eD[i++]=r;function eO(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function ek(e){let t=eM();return t.fromInt(e),t}function eL(e){let t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function eV(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}eV.prototype.convert=function(e){let t=eM();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(eF.ZERO)>0&&this.m.subTo(t,t),t},eV.prototype.revert=function(e){let t=eM();return e.copyTo(t),this.reduce(t),t},eV.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=32767&e[t],o=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,o,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},eV.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},eV.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},eF.prototype.copyTo=function(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},eF.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},eF.prototype.fromString=function(e,t){let n;if(16===t)n=4;else if(8===t)n=3;else if(2===t)n=1;else if(32===t)n=5;else if(4===t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let o=e.length,i=!1,r=0;for(;--o>=0;){let t=function(e,t){let n=eD[e.charCodeAt(t)];return null==n?-1:n}(e,o);if(t<0){"-"===e.charAt(o)&&(i=!0);continue}i=!1,0===r?this[this.t++]=t:r+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-r)-1)<<r,this[this.t++]=t>>this.DB-r):this[this.t-1]|=t<<r,(r+=n)>=this.DB&&(r-=this.DB)}this.clamp(),i&&eF.ZERO.subTo(this,this)},eF.prototype.clamp=function(){let e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t},eF.prototype.dlShiftTo=function(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},eF.prototype.drShiftTo=function(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},eF.prototype.lShiftTo=function(e,t){let n;let o=e%this.DB,i=this.DB-o,r=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<o&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&r)<<o;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},eF.prototype.rShiftTo=function(e,t){t.s=this.s;let n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}let o=e%this.DB,i=this.DB-o,r=(1<<o)-1;t[0]=this[n]>>o;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&r)<<i,t[e-n]=this[e]>>o;o>0&&(t[this.t-n-1]|=(this.s&r)<<i),t.t=this.t-n,t.clamp()},eF.prototype.subTo=function(e,t){let n=0,o=0,i=Math.min(e.t,this.t);for(;n<i;)o+=this[n]-e[n],t[n++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o-=e.s;n<this.t;)o+=this[n],t[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<e.t;)o-=e[n],t[n++]=o&this.DM,o>>=this.DB;o-=e.s}t.s=o<0?-1:0,o<-1?t[n++]=this.DV+o:o>0&&(t[n++]=o),t.t=n,t.clamp()},eF.prototype.multiplyTo=function(e,t){let n=this.abs(),o=e.abs(),i=n.t;for(t.t=i+o.t;--i>=0;)t[i]=0;for(i=0;i<o.t;++i)t[i+n.t]=n.am(0,o[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&eF.ZERO.subTo(t,t)},eF.prototype.squareTo=function(e){let t=this.abs(),n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){let o=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,o,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},eF.prototype.divRemTo=function(e,t,n){let o=e.abs();if(o.t<=0)return;let i=this.abs();if(i.t<o.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null===n&&(n=eM());let r=eM(),s=this.s,a=e.s,c=this.DB-eL(o[o.t-1]);c>0?(o.lShiftTo(c,r),i.lShiftTo(c,n)):(o.copyTo(r),i.copyTo(n));let u=r.t,d=r[u-1];if(0===d)return;let l=d*(1<<this.F1)+(u>1?r[u-2]>>this.F2:0),p=this.FV/l,h=(1<<this.F1)/l,E=1<<this.F2,g=n.t,f=g-u,m=null===t?eM():t;for(r.dlShiftTo(f,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),eF.ONE.dlShiftTo(u,m),m.subTo(r,r);r.t<u;)r[r.t++]=0;for(;--f>=0;){let e=n[--g]===d?this.DM:Math.floor(n[g]*p+(n[g-1]+E)*h);if((n[g]+=r.am(0,e,n,f,0,u))<e)for(r.dlShiftTo(f,m),n.subTo(m,n);n[g]<--e;)n.subTo(m,n)}null!==t&&(n.drShiftTo(u,t),s!==a&&eF.ZERO.subTo(t,t)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),s<0&&eF.ZERO.subTo(n,n)},eF.prototype.invDigit=function(){if(this.t<1)return 0;let e=this[0];if((1&e)==0)return 0;let t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},eF.prototype.addTo=function(e,t){let n=0,o=0,i=Math.min(e.t,this.t);for(;n<i;)o+=this[n]+e[n],t[n++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o+=e.s;n<this.t;)o+=this[n],t[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<e.t;)o+=e[n],t[n++]=o&this.DM,o>>=this.DB;o+=e.s}t.s=o<0?-1:0,o>0?t[n++]=o:o<-1&&(t[n++]=this.DV+o),t.t=n,t.clamp()},eF.prototype.toString=function(e){let t,n;if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else if(4===e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");let o=(1<<t)-1,i=!1,r="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,r=eO(n));s>=0;)a<t?n=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(n=this[s]>>(a-=t)&o,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(r+=eO(n));return i?r:"0"},eF.prototype.negate=function(){let e=eM();return eF.ZERO.subTo(this,e),e},eF.prototype.abs=function(){return this.s<0?this.negate():this},eF.prototype.compareTo=function(e){let t=this.s-e.s;if(0!=t)return t;let n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},eF.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+eL(this[this.t-1]^this.s&this.DM)},eF.prototype.mod=function(e){let t=eM();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(eF.ZERO)>0&&e.subTo(t,t),t},eF.prototype.equals=function(e){return 0===this.compareTo(e)},eF.prototype.add=function(e){let t=eM();return this.addTo(e,t),t},eF.prototype.subtract=function(e){let t=eM();return this.subTo(e,t),t},eF.prototype.multiply=function(e){let t=eM();return this.multiplyTo(e,t),t},eF.prototype.divide=function(e){let t=eM();return this.divRemTo(e,t,null),t},eF.prototype.modPow=function(e,t,n){let o,i,r,s=e.bitLength(),a=ek(1),c=new eV(t);if(s<=0)return a;let u=[],d=3,l=(o=s<18?1:s<48?3:s<144?4:s<768?5:6)-1,p=(1<<o)-1;if(u[1]=c.convert(this),o>1){let e=eM();for(c.sqrTo(u[1],e);d<=p;)u[d]=eM(),c.mulTo(e,u[d-2],u[d]),d+=2}let h=e.t-1,E=!0,g=eM();for(s=eL(e[h])-1;h>=0;){for(s>=l?i=e[h]>>s-l&p:(i=(e[h]&(1<<s+1)-1)<<l-s,h>0&&(i|=e[h-1]>>this.DB+s-l)),d=o;(1&i)==0;)i>>=1,--d;if((s-=d)<0&&(s+=this.DB,--h),E)u[i].copyTo(a),E=!1;else{for(;d>1;)c.sqrTo(a,g),c.sqrTo(g,a),d-=2;d>0?c.sqrTo(a,g):(r=a,a=g,g=r),c.mulTo(g,u[i],a)}for(;h>=0&&(e[h]&1<<s)==0;)c.sqrTo(a,g),r=a,a=g,g=r,--s<0&&(s=this.DB-1,--h)}let f=c.revert(a);return n(null,f),f},eF.ZERO=ek(0),eF.ONE=ek(1);let eq=async({a:e,g:t,k:n,x:o,B:i,N:r,U:s})=>new Promise((a,c)=>{t.modPow(o,r,(t,u)=>{if(t){c(t);return}i.subtract(n.multiply(u)).modPow(e.add(s.multiply(o)),r,(e,t)=>{if(e){c(e);return}a(t.mod(r))})})}),eB={},eK={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),eB[e]=t,eK[t]=e}let eG=e=>{if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let o=e.slice(n,n+2).toLowerCase();if(o in eK)t[n/2]=eK[o];else throw Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return t};var eW=n(29515);let e$=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=eB[e[n]];return t},ez=e=>{let t=new eW.f;t.update(e);let n=e$(t.digestSync());return Array(64-n.length).join("0")+n},eH=e=>ez(eG(e)),eX=/^[89a-f]/i,ej=e=>{if(!(e instanceof eF))throw Error("Not a BigInteger");let t=0>e.compareTo(eF.ZERO),n=e.abs().toString(16);return n=n.length%2!=0?`0${n}`:n,n=eX.test(n)?`00${n}`:n,t&&(n=new eF(n.split("").map(e=>{let t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(eF.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2)),n},eQ=({A:e,B:t})=>{let n=new eF(eH(ej(e)+ej(t)),16);if(n.equals(eF.ZERO))throw Error("U cannot be zero.");return n},eJ=(e,t,n)=>{let o=new eW.f(t);o.update(e);let i=o.digestSync(),r=new eW.f(i);return r.update(n),r.digestSync().slice(0,16)};class eY{constructor(e,t){this.words=[];let n=e;n=this.words=n||[],void 0!==t?this.sigBytes=t:this.sigBytes=4*n.length}random(e){let t=[];for(let n=0;n<e;n+=4)t.push((0,es.MX)().getRandomValues(new Uint32Array(1))[0]);return new eY(t,e)}toString(){return function(e){let{words:t}=e,{sigBytes:n}=e,o=[];for(let e=0;e<n;e++){let n=t[e>>>2]>>>24-e%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")}(this)}}let eZ=e=>eG(new eY().random(e).toString()),e0=()=>ea.convert(eZ(40));class e1{constructor({userPoolName:e,a:t,g:n,A:o,N:i}){this.encoder=eb,this.userPoolName=e,this.a=t,this.g=n,this.A=o,this.N=i,this.k=new eF(eH(`${ej(i)}${ej(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new eu.l({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new eu.l({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new eu.l({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=e0();let n=ez(`${e}${t}:${this.randomPassword}`),o=e$(eZ(16));return this.saltToHashDevices=ej(new eF(o,16)),new Promise((e,t)=>{this.g.modPow(new eF(eH(this.saltToHashDevices+n),16),this.N,(n,o)=>{if(n){t(n);return}this.verifierDevices=ej(o),e()})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:n,salt:o}){if(n.mod(this.N).equals(eF.ZERO))throw Error("B cannot be zero.");let i=eQ({A:this.A,B:n}),r=ez(`${this.userPoolName}${e}:${t}`),s=new eF(eH(ej(o)+r),16),a=await eq({a:this.a,g:this.g,k:this.k,x:s,B:n,N:this.N,U:i}),c=this.encoder.convert("Caldera Derived Key"),u=this.encoder.convert("\x01"),d=new Uint8Array(c.byteLength+u.byteLength);return d.set(c,0),d.set(u,c.byteLength),eJ(eG(ej(a)),eG(ej(i)),d)}}let e2=async({a:e,g:t,N:n})=>new Promise((o,i)=>{t.modPow(e,n,(e,t)=>{if(e){i(e);return}if(t.mod(n).equals(eF.ZERO)){i(Error("Illegal parameter. A mod N cannot be 0."));return}o(t)})}),e3=async e=>{let t=new eF("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),n=new eF("2",16),o=e8(),i=await e2({a:o,g:n,N:t});return new e1({userPoolName:e,a:o,g:n,A:i,N:t})},e8=()=>new eF(e$(eZ(128)),16),e5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e6=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e7=()=>{let e=new Date,t=e6[e.getUTCDay()],n=e5[e.getUTCMonth()],o=e.getUTCDate(),i=e.getUTCHours();i<10&&(i=`0${i}`);let r=e.getUTCMinutes();r<10&&(r=`0${r}`);let s=e.getUTCSeconds();s<10&&(s=`0${s}`);let a=e.getUTCFullYear();return`${t} ${n} ${o} ${i}:${r}:${s} UTC ${a}`};var e4=n(70624);let e9=({userPoolName:e,username:t,challengeParameters:n,dateNow:o,hkdf:i})=>{let r=eb.convert(e),s=eb.convert(t),a=te(n.SECRET_BLOCK),c=eb.convert(o),u=new Uint8Array(r.byteLength+s.byteLength+a.byteLength+c.byteLength);u.set(r,0),u.set(s,r.byteLength),u.set(a,r.byteLength+s.byteLength),u.set(c,r.byteLength+s.byteLength+a.byteLength);let d=new eW.f(i);d.update(u);let l=d.digestSync();return ea.convert(l)},te=e=>{let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),o=e4.$.convert(n),i=new Uint8Array(o.length);for(let e=0;e<o.length;++e)i[e]=o.charCodeAt(e);return i};var tt=n(6801);let tn="userAttributes.";async function to(e,t,n,o,i){let{userPoolClientId:r,userPoolId:s,userPoolEndpoint:a}=o,c={USERNAME:e,PASSWORD:t},u=await i.getDeviceMetadata(e);u&&u.deviceKey&&(c.DEVICE_KEY=u.deviceKey);let d=(0,tt.u)({username:e,userPoolId:s,userPoolClientId:r}),l=(0,ef.N)({endpointResolver:(0,eA.e)({endpointOverride:a})}),p=await l({region:(0,eR.y)(s),userAgentValue:(0,eg.W)(eo.g4.SignIn)},{AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:n,ClientId:r,UserContextData:d}),h=p.ChallengeParameters?.USERNAME??p.ChallengeParameters?.USER_ID_FOR_SRP??e;return(tx(h),"DEVICE_SRP_AUTH"===p.ChallengeName)?ta({username:h,config:o,clientMetadata:n,session:p.Session,tokenOrchestrator:i}):p}async function ti(e,t,n,o,i){let{userPoolId:r,userPoolClientId:s,userPoolEndpoint:a}=o,c=r?.split("_")[1]||"",u=await e3(c),d={USERNAME:e,SRP_A:u.A.toString(16)},l=(0,tt.u)({username:e,userPoolId:r,userPoolClientId:s}),p=(0,ef.N)({endpointResolver:(0,eA.e)({endpointOverride:a})}),{ChallengeParameters:h,Session:E}=await p({region:(0,eR.y)(r),userAgentValue:(0,eg.W)(eo.g4.SignIn)},{AuthFlow:"USER_SRP_AUTH",AuthParameters:d,ClientMetadata:n,ClientId:s,UserContextData:l}),g=h?.USERNAME??e;return tx(g),tm(tu,[t,h,n,E,u,o,i],g,i)}async function tr(e,t,n,o){let{userPoolClientId:i,userPoolId:r,userPoolEndpoint:s}=n,a={USERNAME:e},c=await o.getDeviceMetadata(e);c&&c.deviceKey&&(a.DEVICE_KEY=c.deviceKey);let u=(0,tt.u)({username:e,userPoolId:r,userPoolClientId:i}),d=(0,ef.N)({endpointResolver:(0,eA.e)({endpointOverride:s})}),l=await d({region:(0,eR.y)(r),userAgentValue:(0,eg.W)(eo.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:t,ClientId:i,UserContextData:u}),p=l.ChallengeParameters?.USERNAME??e;return(tx(p),"DEVICE_SRP_AUTH"===l.ChallengeName)?ta({username:p,config:n,clientMetadata:t,session:l.Session,tokenOrchestrator:o}):l}async function ts(e,t,n,o,i){(0,ei.FG)(o);let{userPoolId:r,userPoolClientId:s,userPoolEndpoint:a}=o,c=r?.split("_")[1]||"",u=await e3(c),d={USERNAME:e,SRP_A:u.A.toString(16),CHALLENGE_NAME:"SRP_A"},l=(0,tt.u)({username:e,userPoolId:r,userPoolClientId:s}),p=(0,ef.N)({endpointResolver:(0,eA.e)({endpointOverride:a})}),{ChallengeParameters:h,Session:E}=await p({region:(0,eR.y)(r),userAgentValue:(0,eg.W)(eo.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:d,ClientMetadata:n,ClientId:s,UserContextData:l}),g=h?.USERNAME??e;return tx(g),tm(tu,[t,h,n,E,u,o,i],g,i)}async function ta({username:e,config:t,clientMetadata:n,session:o,tokenOrchestrator:i}){let{userPoolId:r,userPoolEndpoint:s}=t,a=t.userPoolClientId,c=await i?.getDeviceMetadata(e);(0,ep.tr)(c);let u=await e3(c.deviceGroupKey),d={USERNAME:e,SRP_A:u.A.toString(16),DEVICE_KEY:c.deviceKey},l=ew({endpointResolver:(0,eA.e)({endpointOverride:s})}),{ChallengeParameters:p,Session:h}=await l({region:(0,eR.y)(r)},{ChallengeName:"DEVICE_SRP_AUTH",ClientId:a,ChallengeResponses:d,ClientMetadata:n,Session:o});return tc(e,p,n,h,u,t,i)}async function tc(e,t,n,o,i,{userPoolId:r,userPoolClientId:s,userPoolEndpoint:a},c){let u=await c?.getDeviceMetadata(e);(0,ep.tr)(u);let d=new eF(t?.SRP_B,16),l=new eF(t?.SALT,16),{deviceKey:p}=u,{deviceGroupKey:h}=u,E=await i.getPasswordAuthenticationKey({username:u.deviceKey,password:u.randomPassword,serverBValue:d,salt:l}),g=e7(),f={USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:e9({username:p,userPoolName:h,challengeParameters:t,dateNow:g,hkdf:E}),DEVICE_KEY:p},m=(0,tt.u)({username:e,userPoolId:r,userPoolClientId:s});return ew({endpointResolver:(0,eA.e)({endpointOverride:a})})({region:(0,eR.y)(r)},{ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:s,ChallengeResponses:f,Session:o,ClientMetadata:n,UserContextData:m})}async function tu(e,t,n,o,i,r,s){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:u}=r,d=a?.split("_")[1]||"",l=new eF(t?.SRP_B,16),p=new eF(t?.SALT,16),h=t?.USER_ID_FOR_SRP;if(!h)throw new eu.l({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let E=await i.getPasswordAuthenticationKey({username:h,password:e,serverBValue:l,salt:p}),g=e7(),f={USERNAME:h,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:e9({username:h,userPoolName:d,challengeParameters:t,dateNow:g,hkdf:E})},m=await s.getDeviceMetadata(h);m&&m.deviceKey&&(f.DEVICE_KEY=m.deviceKey);let x=(0,tt.u)({username:h,userPoolId:a,userPoolClientId:c}),y=ew({endpointResolver:(0,eA.e)({endpointOverride:u})}),S=await y({region:(0,eR.y)(a)},{ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:f,ClientMetadata:n,Session:o,ClientId:c,UserContextData:x});return"DEVICE_SRP_AUTH"===S.ChallengeName?ta({username:h,config:r,clientMetadata:n,session:S.Session,tokenOrchestrator:s}):S}async function td(e){var t;let{challengeName:n,challengeParameters:o}=e,i=en.d.getConfig().Auth?.Cognito;switch((0,ei.FG)(i),n){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:o}};case"MFA_SETUP":{let{signInSession:e,username:t}=eT.getState();if(!function(e,t){let{MFAS_CAN_SETUP:n}=e,o=th(tE(n));return!!o&&o.includes(t)}(o,"TOTP"))throw new eu.l({name:ed.kq.SignInException,message:`Cannot initiate MFA setup from available types: ${th(tE(o.MFAS_CAN_SETUP))}`});let n=ev({endpointResolver:(0,eA.e)({endpointOverride:i.userPoolEndpoint})}),{Session:r,SecretCode:s}=await n({region:(0,eR.y)(i.userPoolId)},{Session:e});return eT.dispatch({type:"SET_SIGN_IN_SESSION",value:r}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:{sharedSecret:s,getSetupUri:(e,n)=>{let o=`otpauth://totp/${e}:${n??t}?secret=${s}&issuer=${e}`;return new er.a(o)}}}}}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:(t=o.requiredAttributes)?JSON.parse(t).map(e=>e.includes(tn)?e.replace(tn,""):e):[]}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:th(tE(o.MFAS_CAN_CHOOSE))}};case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:o.CODE_DELIVERY_DELIVERY_MEDIUM,destination:o.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}}}throw new eu.l({name:ed.kq.SignInException,message:`An error occurred during the sign in process. ${n} challengeName returned by the underlying service was not addressed.`})}function tl(e){return e===z.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===z.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}function tp(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":void 0}function th(e){if(e)return e.map(tp).filter(Boolean)}function tE(e){return e?JSON.parse(e):[]}async function tg(){let e;try{e=await eE()}catch(e){}if(e&&e.userId&&e.username)throw new eu.l({name:el.EU,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}async function tf({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:o}){if(!n)return;let i=e.split("_")[1]||"",r=await e3(i),s=n?.DeviceKey,a=n?.DeviceGroupKey;try{await r.generateHashDevice(a??"",s??"")}catch(e){return}let c={Salt:ea.convert(eG(r.getSaltToHashDevices())),PasswordVerifier:ea.convert(eG(r.getVerifierDevices()))},u=r.getRandomPassword();try{let i=eC({endpointResolver:(0,eA.e)({endpointOverride:t})});return await i({region:(0,eR.y)(e)},{AccessToken:o,DeviceName:await ec(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:c}),{deviceKey:s,deviceGroupKey:a,randomPassword:u}}catch(e){return}}async function tm(e,t,n,o){try{return await e(...t)}catch(i){if(i instanceof eu.l&&"ResourceNotFoundException"===i.name&&i.message.includes("Device does not exist."))return await o.clearDeviceMetadata(n),e(...t);throw i}}function tx(e){let{dispatch:t}=eT;t({type:"SET_USERNAME",value:e})}function ty(e){return eT.getState().username??e}var tS=n(39811),tI=n(32002),tw=n(45473),tv=n(75638),tC=n(78999);async function tA(e){if(e.AccessToken){let t,n,o;let i=(0,ei.xp)(e.AccessToken),r=1e3*(i.payload.iat||0),s=new Date().getTime();e.RefreshToken&&(n=e.RefreshToken),e.IdToken&&(t=(0,ei.xp)(e.IdToken)),e?.NewDeviceMetadata&&(o=e.NewDeviceMetadata);let a={accessToken:i,idToken:t,refreshToken:n,clockDrift:r>0?r-s:0,deviceMetadata:o,username:e.username};e?.signInDetails&&(a.signInDetails=e.signInDetails),await tC.C.setTokens({tokens:a})}else throw new tv._({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}var tR=n(85871);let tP=async()=>{try{tR.Xb.dispatch("auth",{event:"signedIn",data:await eE()},"Auth",tR.SQ)}catch(e){if(e.name===el.Jg)throw new eu.l({name:el.sX,message:"Unable to get user session following successful sign-in.",recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."});throw e}};async function tT(e){let t=en.d.getConfig().Auth?.Cognito;(0,ei.FG)(t);let{username:n,password:o,options:i}=e,r={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},s=i?.clientMetadata;(0,tI.n)(!!n,tS.X.EmptySignInUsername),(0,tI.n)(!o,tS.X.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:i,Session:a}=await tm(tr,[n,s,t,tC.C],n,tC.C),c=ty(n);if(eN({signInSession:a,username:c,challengeName:e,signInDetails:r}),i)return eU(),await tA({username:c,...i,NewDeviceMetadata:await tf({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:i.NewDeviceMetadata,accessToken:i.AccessToken}),signInDetails:r}),await tP(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return td({challengeName:e,challengeParameters:o})}catch(t){eU(),(0,tw.R)(t);let e=tl(t.name);if(e)return e;throw t}}async function tN(e){let{username:t,password:n,options:o}=e,i={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},r=en.d.getConfig().Auth?.Cognito;(0,ei.FG)(r);let s=o?.clientMetadata;(0,tI.n)(!!t,tS.X.EmptySignInUsername),(0,tI.n)(!!n,tS.X.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:a,Session:c}=await ts(t,n,s,r,tC.C),u=ty(t);if(eN({signInSession:c,username:u,challengeName:e,signInDetails:i}),a)return await tA({username:u,...a,NewDeviceMetadata:await tf({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:i}),eU(),await tP(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return td({challengeName:e,challengeParameters:o})}catch(t){eU(),(0,tw.R)(t);let e=tl(t.name);if(e)return e;throw t}}async function tU(e){let{username:t,password:n}=e,o=en.d.getConfig().Auth?.Cognito,i={loginId:t,authFlowType:"USER_SRP_AUTH"};(0,ei.FG)(o);let r=e.options?.clientMetadata;(0,tI.n)(!!t,tS.X.EmptySignInUsername),(0,tI.n)(!!n,tS.X.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:s,AuthenticationResult:a,Session:c}=await ti(t,n,r,o,tC.C),u=ty(t);if(eN({signInSession:c,username:u,challengeName:e,signInDetails:i}),a)return eU(),await tA({username:u,...a,NewDeviceMetadata:await tf({userPoolId:o.userPoolId,userPoolEndpoint:o.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:i}),await tP(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return td({challengeName:e,challengeParameters:s})}catch(t){eU(),(0,tw.R)(t);let e=tl(t.name);if(e)return e;throw t}}async function tb(e){let{username:t,password:n,options:o}=e,i=en.d.getConfig().Auth?.Cognito,r={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};(0,ei.FG)(i);let s=o?.clientMetadata;(0,tI.n)(!!t,tS.X.EmptySignInUsername),(0,tI.n)(!!n,tS.X.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:a,Session:c}=await tm(to,[t,n,s,i,tC.C],t,tC.C),u=ty(t);if(eN({signInSession:c,username:u,challengeName:e,signInDetails:r}),a)return await tA({...a,username:u,NewDeviceMetadata:await tf({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:r}),eU(),await tP(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return td({challengeName:e,challengeParameters:o})}catch(t){eU(),(0,tw.R)(t);let e=tl(t.name);if(e)return e;throw t}}async function tF(e){let t=e.options?.authFlowType;switch(await tg(),t){case"USER_SRP_AUTH":default:return tU(e);case"USER_PASSWORD_AUTH":return tb(e);case"CUSTOM_WITHOUT_SRP":return tT(e);case"CUSTOM_WITH_SRP":return tN(e)}}},59138:function(e,t,n){n.d(t,{w:function(){return _}});var o=n(53110),i=n(39271),r=n(16175);function s(){return i.d.Auth.clearCredentials()}var a=n(85871),c=n(87433),u=n(85230),d=n(83977),l=n(57826),p=n(42251),h=n(78999),E=n(99388),g=n(34168);n(29515);let f=async e=>{await e.clearOAuthData(),h.C.clearTokens(),await s(),a.Xb.dispatch("auth",{event:"signedOut"},"Auth",a.SQ)},m=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))};var x=n(99075);let y=e=>e.startsWith(String((window.location.origin+window.location.pathname)??"/")),S=e=>e.includes(String(window.location.hostname)),I=e=>e.startsWith("http://"),w=e=>e.startsWith("https://"),v=async(e,t=!1,n)=>{(0,c.V0)(e);let{loginWith:o,userPoolClientId:i}=e,{domain:r,redirectSignOut:s}=o.oauth,a=function(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw x.x9;return n}{let t=e?.find(y)??e?.find(S),n=e?.find(w)??e?.find(I);if(t)return t;if(n)throw x.VL;throw x.vC}}(s,n);return m(`https://${r}/logout?${Object.entries({client_id:i,logout_uri:encodeURIComponent(a)}).map(([e,t])=>`${e}=${t}`).join("&")}`)},C=async(e,t,n,o)=>{let{isOAuthSignIn:i}=await t.loadOAuthSignIn(),r=await n.getOAuthMetadata();if(await f(t),i||r?.oauthSignIn)return v(e,!1,o)};var A=n(91742),R=n(83468),P=n(5048),T=n(7107),N=n(36168);let U=e=>(0,A.z)(R.x,(0,P.u)("RevokeToken"),(0,T.o)(),{...N.n,...e}),b=e=>(0,A.z)(R.x,(0,P.u)("GlobalSignOut"),(0,T.o)(),{...N.n,...e});var F=n(31901);let M=new o.k("Auth");async function _(e){let t;let n=i.d.getConfig().Auth?.Cognito;(0,c.FG)(n),e?.global?await O(n):await D(n);try{(0,c.V0)(n),t=!0}catch(e){t=!1}if(t){let t=new p.R(r.Fm);t.setAuthConfig(n);let{type:o}=await C(n,t,h.C,e?.oauth?.redirectUrl)??{};if("error"===o)throw new l.l({name:x.wW,message:"An error occurred when attempting to log out from OAuth provider."})}else h.C.clearTokens(),await s(),a.Xb.dispatch("auth",{event:"signedOut"},"Auth",a.SQ)}async function D(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:o}=e,i=await h.C.getTokenStore().loadTokens();if((0,g.XD)(i),k(i.accessToken)){let e=U({endpointResolver:(0,F.e)({endpointOverride:t})});await e({region:(0,E.y)(n),userAgentValue:(0,d.W)(u.g4.SignOut)},{ClientId:o,Token:i.refreshToken})}}catch(e){M.debug("Client signOut error caught but will proceed with token removal")}}async function O(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,o=await h.C.getTokenStore().loadTokens();(0,g.CA)(o);let i=b({endpointResolver:(0,F.e)({endpointOverride:t})});await i({region:(0,E.y)(n),userAgentValue:(0,d.W)(u.g4.SignOut)},{AccessToken:o.accessToken.toString()})}catch(e){M.debug("Global signOut error caught but will proceed with token removal")}}let k=e=>!!e?.payload?.origin_jti},39886:function(e,t,n){n.d(t,{y:function(){return I}});var o=n(39271),i=n(87433),r=n(85230),s=n(32002),a=n(39811),c=n(99388),u=n(99189),d=n(51775),l=n(6801),p=n(83977),h=n(91742),E=n(36168),g=n(83468),f=n(5048),m=n(7107);let x=e=>(0,h.z)(g.x,(0,f.u)("SignUp"),(0,m.o)(),{...E.n,...e});var y=n(31901),S=n(57386);async function I(e){let{username:t,password:n,options:h}=e,E=o.d.getConfig().Auth?.Cognito,g=E?.signUpVerificationMethod??"code",{clientMetadata:f,validationData:m,autoSignIn:I}=e.options??{};(0,i.FG)(E),(0,s.n)(!!t,a.X.EmptySignUpUsername),(0,s.n)(!!n,a.X.EmptySignUpPassword);let w="boolean"!=typeof I?I:void 0,v={username:t,options:w};w?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(v.password=n),(w||!0===I)&&((0,d.Qc)(t),(0,d.pb)(!0));let{userPoolId:C,userPoolClientId:A,userPoolEndpoint:R}=E,P=x({endpointResolver:(0,y.e)({endpointOverride:R})}),T=await P({region:(0,c.y)(C),userAgentValue:(0,p.W)(r.g4.SignUp)},{Username:t,Password:n,UserAttributes:h?.userAttributes&&(0,u.J)(h?.userAttributes),ClientMetadata:f,ValidationData:m&&(0,u.J)(m),ClientId:A,UserContextData:(0,l.u)({username:t,userPoolId:C,userPoolClientId:A})}),{UserSub:N,CodeDeliveryDetails:U}=T;if((0,d.gX)(T)&&(0,d.Fb)())return(0,S.I)((0,d.xt)(v)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:N};if((0,d.gX)(T)&&!(0,d.Fb)())return{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:N};if(!(0,d.gX)(T)&&(0,d.Fb)()&&"code"===g)(0,d.M6)(v);else if(!(0,d.gX)(T)&&(0,d.Fb)()&&"link"===g)return(0,S.I)((0,d.m3)(v)),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:{deliveryMedium:U?.DeliveryMedium,destination:U?.Destination,attributeName:U?.AttributeName}},userId:N};return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:{deliveryMedium:U?.DeliveryMedium,destination:U?.Destination,attributeName:U?.AttributeName}},userId:N}}},31901:function(e,t,n){n.d(t,{e:function(){return a}});var o=n(69514),i=n(51849),r=n(58249);let s=({region:e})=>({url:new o.a(`https://${r.t}.${e}.${(0,i.b)(e)}`)}),a=({endpointOverride:e})=>t=>e?{url:new o.a(e)}:s(t)},77694:function(e,t,n){n.d(t,{sI:function(){return d},_X:function(){return p}});var o,i=n(87433),r=n(57826);let s={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var a=n(97808);(o||(o={})).InvalidAuthTokens="InvalidAuthTokens";let c={[o.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},u=(0,a.$)(c);class d{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new r.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new r.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=(0,i.xp)(t),o=await this.getKeyValueStorage().getItem(e.idToken),s=o?(0,i.xp)(o):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,c=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",u=Number.parseInt(c),d=await this.getKeyValueStorage().getItem(e.signInDetails),l={accessToken:n,idToken:s,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:u,username:await this.getLastAuthUser()};return d&&(l.signInDetails=JSON.parse(d)),l}catch(e){return null}}async storeTokens(e){u(void 0!==e,o.InvalidAuthTokens),await this.clearTokens();let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),o=await this.getKeyValueStorage().getItem(t.deviceGroupKey),i=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return i&&o&&n?{deviceKey:n,deviceGroupKey:o,randomPassword:i}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){(0,i.FG)(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return l(this.name,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){(0,i.FG)(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}let l=(e,t)=>p(s)(`${e}`,t);function p(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,o)=>({...t,[o]:`${e}.${n}.${o}`}),{})}},78999:function(e,t,n){let o;n.d(t,{D:function(){return C},C:function(){return A}});var i,r=n(16175),s=n(87433),a=n(99388),c=n(34168),u=n(57826),d=n(66388),l=n(31901),p=n(6801);let h=(i=async({tokens:e,authConfig:t,username:n})=>{(0,s.FG)(t?.Cognito);let{userPoolId:o,userPoolClientId:i,userPoolEndpoint:r}=t.Cognito,h=(0,a.y)(o);(0,c.XD)(e);let E=e.refreshToken,g={REFRESH_TOKEN:E};e.deviceMetadata?.deviceKey&&(g.DEVICE_KEY=e.deviceMetadata.deviceKey);let f=(0,p.u)({username:n,userPoolId:o,userPoolClientId:i}),m=(0,d.N)({endpointResolver:(0,l.e)({endpointOverride:r})}),{AuthenticationResult:x}=await m({region:h},{ClientId:i,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:g,UserContextData:f}),y=(0,s.xp)(x?.AccessToken??""),S=x?.IdToken?(0,s.xp)(x.IdToken):void 0,{iat:I}=y.payload;if(!I)throw new u.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:y,idToken:S,clockDrift:1e3*I-new Date().getTime(),refreshToken:E,username:n}},async(...e)=>o||(o=new Promise((t,n)=>{i(...e).then(e=>{t(e)}).catch(e=>{n(e)}).finally(()=>{o=void 0})})));var E=n(77694),g=n(85871);let f=()=>"undefined"!=typeof window&&void 0!==window.document;var m=n(6280),x=n(45473);let y=new(n(42251)).R(r.Fm),S=[],I=e=>{S.push(e)};class w{constructor(){this.waitForInflightOAuth=f()?async()=>await y.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{I(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){y.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new u.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new u.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{(0,s.FG)(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let o=!!t?.idToken&&(0,m.p)({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),i=(0,m.p)({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||o||i)&&null===(t=await this.refreshTokens({tokens:t,username:n}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{let{signInDetails:n}=e,o=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return o.signInDetails=n,await this.setTokens({tokens:o}),g.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",g.SQ),o}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,x.R)(e),"Network error"!==e.message&&this.clearTokens(),g.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",g.SQ),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class v{constructor(){this.authTokenStore=new E.sI,this.authTokenStore.setKeyValueStorage(r.Fm),this.tokenOrchestrator=new w,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(h)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}let C=new v,{tokenOrchestrator:A}=C},99189:function(e,t,n){function o(e){return Object.entries(e).map(([e,t])=>({Name:e,Value:t}))}function i(e){let t={};return e?.forEach(e=>{e.Name&&(t[e.Name]=e.Value)}),t}n.d(t,{J:function(){return o},R:function(){return i}})},42251:function(e,t,n){n.d(t,{R:function(){return c}});var o=n(87433),i=n(77694),r=n(34168);let s="amplify-signin-with-hostedUI",a="CognitoIdentityServiceProvider";class c{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){(0,o.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,o.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(s),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,o.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,o.FG)(this.cognitoConfig);let t=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,o.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,o.FG)(this.cognitoConfig);let t=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,o.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){(0,o.FG)(this.cognitoConfig);let t=u(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){(0,o.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(s),[n,i]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===i}}async storeOAuthSignIn(e,t=!1){(0,o.FG)(this.cognitoConfig);let n=u(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}let u=(e,t)=>(0,i._X)(r.Bx)(e,t)},51775:function(e,t,n){let o;n.d(t,{Fb:function(){return f},M6:function(){return u},Qc:function(){return E},gX:function(){return x},m3:function(){return y},mr:function(){return g},pb:function(){return m},xt:function(){return w}});var i=n(85871),r=n(47054),s=n(57826),a=n(57386),c=n(99075);function u(e){let t=i.qC.listen("auth-internal",async({payload:n})=>{if("confirmSignUp"===n.event){let o=n.data;o?.isSignUpComplete&&(i.qC.dispatch("auth-internal",{event:"autoSignIn"}),(0,a.I)(I(e)),t())}}),n=setTimeout(()=>{t(),m(!1),clearTimeout(n),(0,a.Dv)()},18e4)}function d(e,t){let n;return o=>{n||e(...o),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}let l=d(function(e,t,n){let o=Date.now(),i=setInterval(async()=>{if(Date.now()-o>18e4)clearInterval(i),m(!1),n(new s.l({name:c.MA,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),(0,a.Dv)();else try{let n=await (0,r.z)(e);"CONFIRM_SIGN_UP"!==n.nextStep.signInStep&&(t(n),clearInterval(i),m(!1),(0,a.Dv)())}catch(e){clearInterval(i),m(!1),n(e),(0,a.Dv)()}},5e3)},300),p=d(S,300),h=!1;function E(e){o=e}function g(e){return o===e}function f(){return h}function m(e){!1===e&&(o=void 0),h=e}function x(e){return!!e.UserConfirmed}function y(e){return async()=>new Promise((t,n)=>{l([e,t,n])})}async function S(e,t,n){try{let n=await (0,r.z)(e);t(n),(0,a.Dv)()}catch(e){n(e),(0,a.Dv)()}}function I(e){return async()=>new Promise((t,n)=>{p([e,t,n])})}let w=I},34168:function(e,t,n){n.d(t,{Bx:function(){return l},CA:function(){return r},Cg:function(){return s},XD:function(){return u},tr:function(){return d}});var o=n(57826),i=n(99075);function r(e){if(!e||!e.accessToken)throw new o.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function s(e){if(!e||!e.idToken)throw new o.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let a=new o.l({name:i.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),c=new o.l({name:i.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function u(e){if(p(e)&&!e?.refreshToken)throw a;if(!(p(e)&&e?.refreshToken))throw c}function d(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new o.l({name:i.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let l={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function p(e){return e?.accessToken||e?.idToken}},6801:function(e,t,n){n.d(t,{u:function(){return o}});function o({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;let o=window.AmazonCognitoAdvancedSecurityData;if(void 0===o)return;let i=o.getData(e,t,n);return i?{EncodedData:i}:{}}},83977:function(e,t,n){n.d(t,{W:function(){return r}});var o=n(52954),i=n(85230);let r=(e,t)=>(0,o.Zm)({category:i.WD.Auth,action:e,...t})},85871:function(e,t,n){n.d(t,{SQ:function(){return s},Xb:function(){return u},qC:function(){return d}});var o=n(53110),i=n(79059),r=n(75638);let s="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",a=new o.k("Hub");class c{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){let n=this.listeners.get(e);if(!n){a.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...n.filter(({callback:e})=>e!==t)])}dispatch(e,t,n,o){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&o!==s&&a.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`);let i={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){a.error(e)}}listen(e,t,n="noname"){if("function"!=typeof t)throw new r._({name:i.z2,message:"No callback supplied to Hub"});let o=this.listeners.get(e);return o||(o=[],this.listeners.set(e,o)),o.push({name:n,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:n}=e,o=this.listeners.get(t);o&&o.forEach(o=>{a.debug(`Dispatching to ${t} with `,n);try{o.callback(e)}catch(e){a.error(e)}})}}let u=new c("__default__"),d=new c("internal-hub")},53110:function(e,t,n){n.d(t,{k:function(){return a}});var o,i,r=n(79059);(o=i||(i={})).DEBUG="DEBUG",o.ERROR="ERROR",o.INFO="INFO",o.WARN="WARN",o.VERBOSE="VERBOSE",o.NONE="NONE";let s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class a{constructor(e,t=i.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e,...t){let n=this.level;a.LOG_LEVEL&&(n=a.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);let o=s[n];if(!(s[e]>=o))return;let r=console.log.bind(console);e===i.ERROR&&console.error&&(r=console.error.bind(console)),e===i.WARN&&console.warn&&(r=console.warn.bind(console)),a.BIND_ALL_LOG_LEVELS&&(e===i.INFO&&console.info&&(r=console.info.bind(console)),e===i.DEBUG&&console.debug&&(r=console.debug.bind(console)));let c=`[${e}] ${this._ts()} ${this.name}`,u="";if(1===t.length&&"string"==typeof t[0])r(u=`${c} - ${t[0]}`);else if(1===t.length)u=`${c} ${t[0]}`,r(c,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),u=`${c} - ${t[0]} ${e}`,r(`${c} - ${t[0]}`,e)}else u=`${c} ${t}`,r(c,t);for(let e of this._pluggables){let t={message:u,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(i.INFO,...e)}info(...e){this._log(i.INFO,...e)}warn(...e){this._log(i.WARN,...e)}error(...e){this._log(i.ERROR,...e)}debug(...e){this._log(i.DEBUG,...e)}verbose(...e){this._log(i.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===r.YG&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}a.LOG_LEVEL=null,a.BIND_ALL_LOG_LEVELS=!1},63171:function(e,t,n){let o;n.d(t,{Cj:function(){return m},QW:function(){return x}});var i=n(85230),r=n(40257);let s=()=>"undefined"!=typeof global,a=()=>"undefined"!=typeof window,c=()=>"undefined"!=typeof document,u=()=>void 0!==r,d=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var l=n(40257),p=n(40257),h=n(40257);let E=[{platform:i.gQ.Expo,detectionMethod:function(){return s()&&void 0!==global.expo}},{platform:i.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:i.gQ.NextJs,detectionMethod:function(){return a()&&window.next&&"object"==typeof window.next}},{platform:i.gQ.Nuxt,detectionMethod:function(){return a()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:i.gQ.Angular,detectionMethod:function(){let e=!!(c()&&document.querySelector("[ng-version]")),t=!!(a()&&void 0!==window.ng);return e||t}},{platform:i.gQ.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return c()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:i.gQ.VueJs,detectionMethod:function(){return a()&&d(window,"__VUE")}},{platform:i.gQ.Svelte,detectionMethod:function(){return a()&&d(window,"__SVELTE")}},{platform:i.gQ.WebUnknown,detectionMethod:function(){return a()}},{platform:i.gQ.NextJsSSR,detectionMethod:function(){return s()&&(d(global,"__next")||d(global,"__NEXT"))}},{platform:i.gQ.NuxtSSR,detectionMethod:function(){return s()&&void 0!==global.__NUXT_PATHS__}},{platform:i.gQ.ReactSSR,detectionMethod:function(){return u()&&void 0!==l.env&&!!Object.keys(l.env).find(e=>e.includes("react"))}},{platform:i.gQ.VueJsSSR,detectionMethod:function(){return s()&&d(global,"__VUE")}},{platform:i.gQ.AngularSSR,detectionMethod:function(){return u()&&"object"==typeof h.env&&h.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:i.gQ.SvelteSSR,detectionMethod:function(){return u()&&void 0!==p.env&&!!Object.keys(p.env).find(e=>e.includes("svelte"))}}],g=[],f=!1,m=()=>{if(!o){if(o=E.find(e=>e.detectionMethod())?.platform||i.gQ.ServerSideUnknown,f)for(;g.length;)g.pop()?.();else g.forEach(e=>{e()});y(i.gQ.ServerSideUnknown,10),y(i.gQ.WebUnknown,10)}return o},x=e=>{f||g.push(e)};function y(e,t){o!==e||f||setTimeout(()=>{o=void 0,f=!0,setTimeout(m,1e3)},t)}},52954:function(e,t,n){n.d(t,{Zm:function(){return l}});var o=n(85230);let i="6.6.4";var r=n(63171);let s={},a=(e,t)=>s[e]?.[t]?.additionalDetails,c="aws-amplify";class u{constructor(){this.userAgent=`${c}/${i}`}get framework(){return(0,r.Cj)()}get isReactNative(){return this.framework===o.gQ.ReactNative||this.framework===o.gQ.Expo}observeFrameworkChanges(e){(0,r.QW)(e)}}new u;let d=({category:e,action:t}={})=>{let n=[[c,i]];if(e&&n.push([e,t]),n.push(["framework",(0,r.Cj)()]),e&&t){let o=a(e,t);o&&o.forEach(e=>{n.push(e)})}return n},l=e=>d(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(" ")},85230:function(e,t,n){var o,i,r,s,a,c,u,d,l,p,h,E,g,f,m,x,y,S,I,w,v,C,A,R,P,T;n.d(t,{WD:function(){return i},g4:function(){return c},gQ:function(){return o}}),(m=o||(o={})).WebUnknown="0",m.React="1",m.NextJs="2",m.Angular="3",m.VueJs="4",m.Nuxt="5",m.Svelte="6",m.ServerSideUnknown="100",m.ReactSSR="101",m.NextJsSSR="102",m.AngularSSR="103",m.VueJsSSR="104",m.NuxtSSR="105",m.SvelteSSR="106",m.ReactNative="201",m.Expo="202",(x=i||(i={})).AI="ai",x.API="api",x.Auth="auth",x.Analytics="analytics",x.DataStore="datastore",x.Geo="geo",x.InAppMessaging="inappmessaging",x.Interactions="interactions",x.Predictions="predictions",x.PubSub="pubsub",x.PushNotification="pushnotification",x.Storage="storage",(y=r||(r={})).CreateConversation="1",y.GetConversation="2",y.ListConversations="3",y.DeleteConversation="4",y.SendMessage="5",y.ListMessages="6",y.OnMessage="7",y.Generation="8",(S=s||(s={})).Record="1",S.IdentifyUser="2",(I=a||(a={})).GraphQl="1",I.Get="2",I.Post="3",I.Put="4",I.Patch="5",I.Del="6",I.Head="7",(w=c||(c={})).SignUp="1",w.ConfirmSignUp="2",w.ResendSignUpCode="3",w.SignIn="4",w.FetchMFAPreference="6",w.UpdateMFAPreference="7",w.SetUpTOTP="10",w.VerifyTOTPSetup="11",w.ConfirmSignIn="12",w.DeleteUserAttributes="15",w.DeleteUser="16",w.UpdateUserAttributes="17",w.FetchUserAttributes="18",w.ConfirmUserAttribute="22",w.SignOut="26",w.UpdatePassword="27",w.ResetPassword="28",w.ConfirmResetPassword="29",w.FederatedSignIn="30",w.RememberDevice="32",w.ForgetDevice="33",w.FetchDevices="34",w.SendUserAttributeVerificationCode="35",w.SignInWithRedirect="36",(v=u||(u={})).Subscribe="1",v.GraphQl="2",(C=d||(d={})).SearchByText="0",C.SearchByCoordinates="1",C.SearchForSuggestions="2",C.SearchByPlaceId="3",C.SaveGeofences="4",C.GetGeofence="5",C.ListGeofences="6",C.DeleteGeofences="7",(A=l||(l={})).SyncMessages="1",A.IdentifyUser="2",A.NotifyMessageInteraction="3",(p||(p={})).None="0",(R=h||(h={})).Convert="1",R.Identify="2",R.Interpret="3",(E||(E={})).Subscribe="1",(P=g||(g={})).InitializePushNotifications="1",P.IdentifyUser="2",(T=f||(f={})).UploadData="1",T.DownloadData="2",T.List="3",T.Copy="4",T.Remove="5",T.GetProperties="6",T.GetUrl="7"},51849:function(e,t,n){n.d(t,{b:function(){return r}});let o={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},i={partitions:[o,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},r=e=>{let{partitions:t}=i;for(let{regions:n,outputs:o,regionRegex:i}of t){let t=new RegExp(i);if(n.includes(e)||t.test(e))return o.dnsSuffix}return o.outputs.dnsSuffix}},96526:function(e,t,n){n.d(t,{y:function(){return p}});let o=3,i=(e,t)=>{let n,o;if(t?.aborted)return Promise.resolve();let i=new Promise(t=>{o=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(i){clearTimeout(n),t?.removeEventListener("abort",e),o()}),i},r=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})};var s=n(48146),a=n(75638),c=n(37701);let u=e=>{let t;return()=>(t||(t=e()),t)},d=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),l=async({url:e,method:t,headers:n,body:o},{abortSignal:i,cache:r,withCrossDomainCredentials:s})=>{let l;try{l=await fetch(e,{method:t,headers:n,body:d(t)?o:void 0,signal:i,cache:r,credentials:s?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new a._({name:c.Z.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let p={};l.headers?.forEach((e,t)=>{p[t.toLowerCase()]=e});let h={statusCode:l.status,headers:p,body:null},E=Object.assign(l.body??{},{text:u(()=>l.text()),blob:u(()=>l.blob()),json:u(()=>l.json())});return{...h,body:E}},p=(0,s.V)(l,[({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(o){if(0===t.trim().length)return await n(o);{let i=e.toLowerCase();return o.headers[i]=o.headers[i]?`${o.headers[i]} ${t}`:t,await n(o)}},({maxAttempts:e=o,retryDecider:t,computeDelay:n,abortSignal:s})=>{if(e<1)throw Error("maxAttempts must be greater than 0");return(o,a)=>async function(c){let u,d;let l=a.attemptsCount??0,p=()=>{if(d)return r(d,l),d;throw r(u,l),u};for(;!s?.aborted&&l<e;){try{d=await o(c),u=void 0}catch(e){u=e,d=void 0}if(l=(a.attemptsCount??0)>l?a.attemptsCount??0:l+1,a.attemptsCount=l,!await t(d,u))return p();if(!s?.aborted&&l<e){let e=n(l);await i(e,s)}}if(!s?.aborted)return p();throw Error("Request aborted.")}}])},91742:function(e,t,n){n.d(t,{z:function(){return o}});let o=(e,t,n,o)=>async(i,r)=>{let s={...o,...i},a=await s.endpointResolver(s,r),c=await t(r,a);return n(await e(c,{...s}))}},48146:function(e,t,n){n.d(t,{V:function(){return o}});let o=(e,t)=>(n,o)=>{let i={},r=t=>e(t,o);for(let e=t.length-1;e>=0;e--)r=(0,t[e])(o)(r,i);return r(n)}},12221:function(e,t,n){n.d(t,{j:function(){return r}});let o=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],i=e=>!!e&&o.includes(e),r=e=>async(t,n)=>{let o=n??await e(t)??void 0,r=o?.code||o?.name,s=t?.statusCode;return u(n)||c(s,r)||i(r)||d(s,r)},s=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],a=["TimeoutError","RequestTimeout","RequestTimeoutException"],c=(e,t)=>429===e||!!t&&s.includes(t),u=e=>e?.name==="Network error",d=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&a.includes(t)},37487:function(e,t,n){n.d(t,{k:function(){return o}});let o=e=>{let t=(function(e=3e5){return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}})(3e5)(e);return!1===t?3e5:t}},48880:function(e,t,n){n.d(t,{e:function(){return r},f:function(){return i}});var o=n(20831);let i=async e=>{if(!e||e.statusCode<300)return;let t=await r(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError");return Object.assign(Error(t.message??t.Message??"Unknown error"),{name:n,$metadata:(0,o.B)(e)})},r=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:(0,o.B)(e)})}},20831:function(e,t,n){n.d(t,{B:function(){return o}});let o=e=>{let{headers:t,statusCode:n}=e;return{...i(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},i=e=>"object"==typeof e?.$metadata},79059:function(e,t,n){n.d(t,{YG:function(){return o},z2:function(){return i}});let o="Logging",i="NoHubcallbackProvidedException"},75638:function(e,t,n){n.d(t,{_:function(){return o}});class o extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:i}){super(e),this.name=t,this.underlyingError=i,this.recoverySuggestion=n,this.constructor=o,Object.setPrototypeOf(this,o.prototype)}}},97808:function(e,t,n){n.d(t,{$:function(){return i}});var o=n(75638);let i=(e,t=o._)=>(n,o,i)=>{let{message:r,recoverySuggestion:s}=e[o];if(!n)throw new t({name:o,message:i?`${r} ${i}`:r,recoverySuggestion:s})}},39271:function(e,t,n){n.d(t,{d:function(){return u}});var o=n(85871);let i=e=>{for(let t of Reflect.ownKeys(e)){let n=e[t];(n&&"object"==typeof n||"function"==typeof n)&&i(n)}return Object.freeze(e)},r=Symbol("oauth-listener");var s=n(64686),a=n(6280);n(29515),n(73663);class c{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new a.i}configure(e,t){let n=(0,s.h)(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=i(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),o.Xb.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",o.SQ),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[r](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}let u=new c},6280:function(e,t,n){function o({expiresAt:e,clockDrift:t}){return Date.now()+t>e}n.d(t,{i:function(){return i},p:function(){return o}});class i{configure(e,t){this.authConfig=e,this.authOptions=t}async fetchAuthSession(e={}){let t,n;let o=await this.getTokens(e);return o?(n=o.accessToken?.payload?.sub,t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:o,authenticated:!0,forceRefresh:e.forceRefresh})):t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:o,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}}},87433:function(e,t,n){n.d(t,{YE:function(){return l},V0:function(){return d},FG:function(){return u},xp:function(){return p}});var o,i,r=n(70624),s=n(97808);(o=i||(i={})).AuthTokenConfigException="AuthTokenConfigException",o.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",o.AuthUserPoolException="AuthUserPoolException",o.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",o.OAuthNotConfigureException="OAuthNotConfigureException";let a={[i.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[i.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[i.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[i.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[i.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},c=(0,s.$)(a);function u(e){c(!!e&&!!e.userPoolId&&!!e.userPoolClientId,i.AuthUserPoolException)}function d(e){c(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,i.OAuthNotConfigureException)}function l(e){c(!!e?.identityPoolId,i.InvalidIdentityPoolIdException)}function p(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(r.$.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),i=JSON.parse(o);return{toString:()=>e,payload:i}}catch(e){throw Error("Invalid token payload")}}},16175:function(e,t,n){n.d(t,{Fm:function(){return p}});var o=n(37701),i=n(75638);class r extends i._{constructor(){super({name:o.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}class s{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new r;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new r;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new r;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new r;this.storage.clear()}}class a{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}let c=()=>"undefined"!=typeof window&&window.localStorage?window.localStorage:new a,u=()=>"undefined"!=typeof window&&window.sessionStorage?window.sessionStorage:new a;class d extends s{constructor(){super(c())}}class l extends s{constructor(){super(u())}}let p=new d;new l,new s(new a)},37701:function(e,t,n){var o,i;n.d(t,{Z:function(){return o}}),(i=o||(o={})).NoEndpointId="NoEndpointId",i.PlatformNotSupported="PlatformNotSupported",i.Unknown="Unknown",i.NetworkError="NetworkError"},69514:function(e,t,n){n.d(t,{a:function(){return o}});let o=URL},70624:function(e,t,n){n.d(t,{$:function(){return i}});var o=n(72237);let i={convert:e=>(0,o.tl)()(e)}},72237:function(e,t,n){n.d(t,{Ds:function(){return r},MX:function(){return i},tl:function(){return s}});var o=n(75638);let i=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new o._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},r=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new o._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},s=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new o._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},64686:function(e,t,n){n.d(t,{h:function(){return h}});var o=n(53110),i=n(75638);let r=new o.k("parseAWSExports"),s={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},a=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new i._({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:o,aws_appsync_region:a,aws_bots_config:c,aws_cognito_identity_pool_id:l,aws_cognito_sign_up_verification_method:p,aws_cognito_mfa_configuration:h,aws_cognito_mfa_types:E,aws_cognito_password_protection_settings:g,aws_cognito_verification_mechanisms:f,aws_cognito_signup_attributes:m,aws_cognito_social_providers:x,aws_cognito_username_attributes:y,aws_mandatory_sign_in:S,aws_mobile_analytics_app_id:I,aws_mobile_analytics_app_region:w,aws_user_files_s3_bucket:v,aws_user_files_s3_bucket_region:C,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:A,aws_user_pools_id:R,aws_user_pools_web_client_id:P,geo:T,oauth:N,predictions:U,aws_cloud_logic_custom:b,Notifications:F,modelIntrospection:M}=e,_={};I&&(_.Analytics={Pinpoint:{appId:I,region:w}});let{InAppMessaging:D,Push:O}=F??{};if(D?.AWSPinpoint||O?.AWSPinpoint){if(D?.AWSPinpoint){let{appId:e,region:t}=D.AWSPinpoint;_.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(O?.AWSPinpoint){let{appId:e,region:t}=O.AWSPinpoint;_.Notifications={..._.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(c)&&(_.Interactions={LexV1:Object.fromEntries(c.map(e=>[e.name,e]))}),o){let e=s[n];e||r.debug(`Invalid authentication type ${n}. Falling back to IAM.`),_.API={GraphQL:{endpoint:o,apiKey:t,region:a,defaultAuthMode:e??"iam"}},M&&(_.API.GraphQL.modelIntrospection=M)}let k=h?{status:h&&h.toLowerCase(),totpEnabled:E?.includes("TOTP")??!1,smsEnabled:E?.includes("SMS")??!1}:void 0,L=g?{minLength:g.passwordPolicyMinLength,requireLowercase:g.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:g.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:g.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:g.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,V=Array.from(new Set([...f??[],...m??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),q=y?.includes("EMAIL")??!1,B=y?.includes("PHONE_NUMBER")??!1;(l||R)&&(_.Auth={Cognito:{identityPoolId:l,allowGuestAccess:"enable"!==S,signUpVerificationMethod:p,userAttributes:V,userPoolClientId:P,userPoolId:R,mfa:k,passwordFormat:L,loginWith:{username:!(q||B),email:q,phone:B}}});let K=!!N&&Object.keys(N).length>0,G=!!x&&x.length>0;if(_.Auth&&K&&(_.Auth.Cognito.loginWith={..._.Auth.Cognito.loginWith,oauth:{...u(N),...G&&{providers:d(x)}}}),v&&(_.Storage={S3:{bucket:v,region:C,dangerouslyConnectToHttpEndpointForTesting:A}}),T){let{amazon_location_service:e}=T;_.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(b&&(_.API={..._.API,REST:b.reduce((e,t)=>{let{name:n,endpoint:o,region:i,service:r}=t;return{...e,[n]:{endpoint:o,...r?{service:r}:void 0,...i?{region:i}:void 0}}},{})}),U){let{VoiceId:e}=U?.convert?.speechGenerator?.defaults??{};_.Predictions=e?{...U,convert:{...U.convert,speechGenerator:{...U.convert.speechGenerator,defaults:{voiceId:e}}}}:U}return _},c=e=>e?.split(",")??[],u=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:o,responseType:i})=>({domain:e,scopes:t,redirectSignIn:c(n),redirectSignOut:c(o),responseType:i}),d=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}),l={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},p={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},h=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?a(e):!function(e){let{version:t}=e;return!!t&&t.startsWith("1")}(e)?e:function(e){let t={};return e.storage&&(t.Storage=function(e){if(!e)return;let{bucket_name:t,aws_region:n,buckets:o}=e;return{S3:{bucket:t,region:n,buckets:o&&function(e){let t={};return e.forEach(({name:e,bucket_name:n,aws_region:o})=>{if(e in t)throw Error(`Duplicate friendly name found: ${e}. Name must be unique.`);t[e]={bucketName:n,region:o}}),t}(o)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:n,identity_pool_id:o,password_policy:i,mfa_configuration:r,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:c,username_attributes:u,standard_required_attributes:d}=e,l={Cognito:{userPoolId:t,userPoolClientId:n}};return o&&(l.Cognito={...l.Cognito,identityPoolId:o}),i&&(l.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),r&&(l.Cognito.mfa={status:"OPTIONAL"===r?"optional":"REQUIRED"===r?"on":"off",smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(l.Cognito.allowGuestAccess=a),c&&(l.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:"token"===c.response_type?"token":"code",scopes:c.scopes,providers:function(e=[]){return e.reduce((e,t)=>(void 0!==p[t]&&e.push(p[t]),e),[])}(c.identity_providers)}}),u&&(l.Cognito.loginWith={...l.Cognito.loginWith,email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")}),d&&(l.Cognito.userAttributes=d.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),l}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;let{aws_region:t,geofence_collections:n,maps:o,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:n,maps:o}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;let{aws_region:t,default_authorization_type:n,url:o,api_key:i,model_introspection:r}=e;return{GraphQL:{endpoint:o,defaultAuthMode:l[n],region:t,apiKey:i,modelIntrospection:r}}}(e.data)),e.notifications&&(t.Notifications=function(e){if(!e)return;let{aws_region:t,channels:n,amazon_pinpoint_app_id:o}=e,i=n.includes("IN_APP_MESSAGING"),r=n.includes("APNS")||n.includes("FCM");if(!(i||r))return;let s={};return i&&(s.InAppMessaging={Pinpoint:{appId:o,region:t}}),r&&(s.PushNotification={Pinpoint:{appId:o,region:t}}),s}(e.notifications)),t}(e)}}]);